# 后台管理前端 (Admin Web)

---

## 模块概述

后台管理前端为管理员和财务角色提供 Web 管理界面，实现用户管理、财务审批、系统配置等功能的可视化操作。

> 说明：本目录为 **Admin Web 的产品/交互规范与页面说明**（文档模块）。当前仓库未包含 Admin Web 的前端工程代码，落地实现时请以 Admin API SRD 与本目录规范对齐。

### 核心功能

- **Dashboard**: 数据统计、Vault 余额、告警通知、快捷入口、图表展示
- **Vault 资金管理**: 多网络钱包管理、币种余额监控、预警阈值配置
- **转账管理**: 批量转账批次、Excel 导入、执行追踪
- **用户管理**: Web2 用户列表、冻结/解冻、白名单管理、安全设置
- **Web3 用户管理**: 设备管理、多网络钱包、地址级黑名单
- **币种管理**: 币种配置、功能开关、上架/下架管理
- **提现审批**: 提现/转账审批、风险评估、批量操作、审批配置
- **账本与交易**: 交易历史、资金流水、充值记录、对账工具
- **Swap 配置**: DEX 管理、滑点规则、汇率配置、兑换历史
- **角色权限管理**: 11 模块权限矩阵、角色配置
- **黑名单地址管理**: 风险地址管理、批量导入、监测管理
- **系统设置**: 配置管理、告警设置、审计日志
- **报表与导出**: 统计报表、数据导出、定时报表

---

## 文档列表

| 文档                                        | 描述                    | 页面路径             |
| ------------------------------------------- | ----------------------- | -------------------- |
| [01-登录与认证](./01-登录与认证.md)         | 登录页面、权限验证      | `/login`             |
| [02-Dashboard](./02-Dashboard.md)           | 管理后台首页            | `/admin/dashboard`   |
| [03-用户管理](./03-用户管理.md)             | Web2 用户列表、状态管理 | `/admin/users`       |
| [04-提现审批](./04-提现审批.md)             | 提现/转账审批队列       | `/admin/withdrawals` |
| [05-账本与交易](./05-账本与交易.md)         | 交易记录、资金流水      | `/admin/ledger`      |
| [16-充值记录](./16-充值记录.md)             | 充值记录、异常处理      | `/admin/ledger`      |
| [06-Swap 配置](./06-Swap配置.md)            | Provider/滑点/折算/历史配置 | `/admin/swap`        |
| [07-系统设置](./07-系统设置.md)             | 系统配置管理            | `/admin/settings`    |
| [08-报表与导出](./08-报表与导出.md)         | 报表生成与导出          | `/admin/reports`     |
| [09-Web3 用户管理](./09-Web3用户管理.md)    | Web3 钱包用户管理       | `/admin/web3users`   |
| [10-Vault 资金管理](./10-Vault资金管理.md)  | 多网络钱包、余额管理    | `/admin/vault`       |
| [11-转账管理](./11-转账管理.md)             | 批量转账批次管理        | `/admin/transfer`    |
| [12-黑名单地址管理](./12-黑名单地址管理.md) | 风险地址管理            | `/admin/blacklist`   |
| [13-币种管理](./13-币种管理.md)             | 币种配置管理            | `/admin/currencies`  |
| [14-系统状态监控](./14-系统状态监控.md)     | 网络/RPC 健康与故障转移 | `/admin/status`      |
| [15-最近操作动态](./15-最近操作动态.md)     | 最近操作记录列表        | `/admin/activities`  |
| [99-通用组件库](./99-通用组件库.md)         | 前端通用组件规范        | -                    |
| [18-员工目录与映射](./18-员工目录与映射.md) | 薪资员工主数据与UID映射 | `/admin/employees`   |
| [19-告警中心](./19-告警中心.md)             | 告警闭环与认领处置       | `/admin/alerts`      |
| [20-工作台与待办中心](./20-工作台与待办中心.md) | 待审批/待处理统一入口 | `/admin/workbench`   |

---

## 权限要求

所有 Admin 页面需要登录并具有相应角色权限。

### 角色定义（建议模板）

> 实际角色/权限以“系统设置 → 角色权限管理”为准。本节提供企业场景（薪资发放 + 资金治理）的推荐角色模板，避免文档间出现互相矛盾的“写死角色”。

| 角色 | 说明 | 典型职责 |
|---|---|---|
| `super_admin` | 超级管理员 | 管理管理员账号、角色、敏感配置；紧急开关与双人控制 |
| `admin` | 系统管理员 | 日常运营配置、风控治理、全局查看（不等同于 super_admin） |
| `finance_staff` / `finance_manager` | 财务 | 出金审批、转账执行、对账与报表、资金运营 |
| `hr_staff` / `hr_manager` | 人力资源 | 员工目录维护、薪资批次创建/导入/提交、一级审批 |
| `cfo` | 财务负责人 | 大额薪资/大额调整的终审（按阈值） |
| `auditor` | 审计员 | 全量只读 + 导出（受控） + 合规报表 |

### 权限矩阵（简化）

> 详细权限拆解与 SoD/范围控制见：
> - `wallet_docs/admin-web/settings/07-02-角色权限管理.md`
> - `wallet_docs/admin-web/settings/07-01-人员管理.md`

> 说明：下表为“常见默认分工”的示例。薪资发放涉及的 HR/CFO 多级审批请以 `wallet_docs/admin-web/transfer/02-审批流程.md` 为准。

| 功能 | admin | finance | hr | auditor |
| --- | --- | --- | --- | --- |
| 查看 Dashboard | ✓ | ✓ | ✓（只读） | ✓（只读） |
| 用户管理（冻结/解冻） | ✓ | - | - | ✓（只读） |
| 员工目录与映射 | - | ✓（只读） | ✓ | ✓（只读） |
| 黑名单管理 | ✓ | ✓（只读） | - | ✓（只读） |
| 提现审批 | ✓ | ✓ | - | ✓（只读） |
| 转账管理（含薪资批次） | ✓ | ✓ | ✓（按功能细分） | ✓（只读） |
| Vault 资金管理 | ✓ | ✓ | - | ✓（只读） |
| Swap 配置 | ✓ | - | - | ✓（只读） |
| 系统设置 | ✓（部分） | - | - | ✓（只读） |
| 报表查看与导出 | ✓ | ✓ | ✓（按范围） | ✓（受控） |
| 审计日志 | ✓ | ✓（只读） | - | ✓ |

详细权限说明见 [07-系统设置](./07-系统设置.md)。

---

## 前端架构

```
┌─────────────────────────────────────────────────────────────┐
│                      浏览器 (Browser)                        │
│  Admin Web (SPA)                                            │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      API Gateway                             │
│  - Admin 路由前缀: /api/v1/admin/*                          │
│  - JWT Token 验证                                           │
│  - RBAC 权限检查                                            │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    Admin Service (gRPC)                      │
│  (后端服务，详见 admin-api 文档)                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 页面路由表

| 路由                     | 页面组件             | 权限           | 描述              |
| ------------------------ | -------------------- | -------------- | ----------------- |
| `/login`                 | LoginPage            | 公开           | 登录页面          |
| `/admin/dashboard`       | DashboardPage        | admin, finance | 数据统计首页      |
| `/admin/vault`           | VaultManagePage      | admin, finance | Vault 资金管理    |
| `/admin/transfer`        | TransferPage         | hr, finance    | 转账管理          |
| `/admin/employees`       | EmployeeDirectoryPage | hr, finance    | 员工目录与映射    |
| `/admin/users`           | UserListPage         | admin          | Web2 用户列表     |
| `/admin/users/:id`       | UserDetailPage       | admin          | 用户详情          |
| `/admin/web3users`       | Web3UserPage         | admin          | Web3 用户管理     |
| `/admin/currencies`      | CurrencyPage         | admin          | 币种管理          |
| `/admin/withdrawals`     | WithdrawalListPage   | admin, finance | 提现/转账审批列表 |
| `/admin/withdrawals/:id` | WithdrawalDetailPage | admin, finance | 审批详情          |
| `/admin/ledger`          | LedgerPage           | admin, finance | 账本与交易        |
| `/admin/flow`            | TransactionFlowPage  | admin, finance | 资金流水记录      |
| `/admin/swap`            | SwapConfigPage       | admin          | Swap 配置         |
| `/admin/blacklist`       | BlacklistPage        | admin          | 黑名单地址管理    |
| `/admin/settings`        | SettingsPage         | admin          | 系统设置          |
| `/admin/settings/admins` | AdminManagePage      | super_admin    | 管理员管理        |
| `/admin/settings/roles`  | RoleManagePage       | admin          | 角色权限管理      |
| `/admin/reports`         | ReportsPage          | admin, finance | 报表中心          |
| `/admin/status`          | SystemStatusPage     | admin, finance | 网络/RPC 状态     |
| `/admin/activities`      | RecentActivitiesPage | admin, finance | 最近操作动态列表  |
| `/admin/alerts`          | AlertCenterPage      | admin, finance | 告警中心          |
| `/admin/workbench`       | WorkbenchPage        | hr, finance    | 工作台与待办中心  |

---

## 全局布局结构

```
┌──────────────────────────────────────────────────────────────────┐
│  Header (顶部导航)                                                │
│  ┌────────────────────────────────────────────────────────────┐  │
│  │  Logo    导航菜单    搜索     通知     用户头像/下拉菜单    │  │
│  └────────────────────────────────────────────────────────────┘  │
├──────────┬───────────────────────────────────────────────────────┤
│  Sidebar │  Main Content Area                                    │
│  (侧边栏) │                                                       │
│          │  ┌─────────────────────────────────────────────────┐  │
│  菜单项1  │  │  Breadcrumb (面包屑导航)                        │  │
│  菜单项2  │  ├─────────────────────────────────────────────────┤  │
│  菜单项3  │  │                                                 │  │
│  ...     │  │  Page Content                                   │  │
│          │  │  (页面主体内容)                                  │  │
│          │  │                                                 │  │
│          │  │                                                 │  │
│          │  │                                                 │  │
│          │  └─────────────────────────────────────────────────┘  │
└──────────┴───────────────────────────────────────────────────────┘
```

---

## 设计规范

### 颜色系统

| 用途 | 颜色    | 说明               |
| ---- | ------- | ------------------ |
| 主色 | #1890FF | 主要操作按钮、链接 |
| 成功 | #52C41A | 成功状态、已完成   |
| 警告 | #FAAD14 | 警告状态、待处理   |
| 错误 | #FF4D4F | 错误状态、已驳回   |
| 中性 | #8C8C8C | 次要文本、禁用状态 |

### 状态标签

| 状态                | 颜色 | 场景           |
| ------------------- | ---- | -------------- |
| 待处理 (pending)    | 蓝色 | 待审批、待处理 |
| 进行中 (processing) | 蓝色 | 处理中         |
| 已完成 (completed)  | 绿色 | 已通过、已发放 |
| 已驳回 (rejected)   | 红色 | 审批驳回       |
| 已冻结 (frozen)     | 灰色 | 账户冻结       |
| 已取消 (cancelled)  | 灰色 | 已取消         |

---

## 响应式设计

| 断点 | 宽度     | 布局调整                 |
| ---- | -------- | ------------------------ |
| xs   | < 576px  | 隐藏侧边栏，使用抽屉菜单 |
| sm   | ≥ 576px  | 折叠侧边栏               |
| md   | ≥ 768px  | 显示折叠侧边栏           |
| lg   | ≥ 992px  | 完整侧边栏               |
| xl   | ≥ 1200px | 完整布局                 |

---

## 相关文档

- [admin-api 后端服务文档](../admin-api/README.md)
- [通用组件库](./99-通用组件库.md)
