# Vault / 钱包地址管理

> 返回 [Vault 资金管理索引](../10-Vault资金管理.md)

---

## 目标

管理各网络 Vault 钱包地址（活跃地址与备用地址），确保：

- 同一网络**仅一个活跃地址**（出款/归集等默认使用活跃地址）
- 地址变更有审计、有权限控制（至少 Admin/Finance）
- 删除操作可控（避免误删导致资金不可找回）

> 地址格式与链类型校验规则：见 [地址与校验规范](../98-地址校验规范.md)。

---

## 业务规则（必须明确）

- 同一网络只能有一个活跃钱包
- 启用钱包时自动禁用该网络下的其他钱包
- 活跃钱包不可删除
- 删除前需确认钱包余额为 0（或提供“强制删除”并要求更高权限/双人确认，建议默认不开放）

---

## 1. 添加钱包地址

**触发方式**：点击网络卡片上的「添加地址」

**对话框（参考）**：
```
┌────────────────────────────────────────┐
│  添加钱包地址                      [×]  │
├────────────────────────────────────────┤
│  选择网络 *                            │
│  [Ethereum        ▼]                   │
│  钱包地址 *                            │
│  [0x________________________]          │
│                                        │
│  提示：                                │
│  • 新添加的钱包默认处于不活跃状态      │
│  • 需要手动启用后才能使用              │
│  • 同一网络只能有一个活跃地址          │
│  • 地址需通过格式校验（见规范）        │
│                                        │
│         [取消]    [添加]               │
└────────────────────────────────────────┘
```

---

## 2. 启用钱包

**触发方式**：点击备用地址行的「启用」

**确认对话框（参考）**：
```
┌────────────────────────────────────────┐
│  启用钱包                          [×]  │
├────────────────────────────────────────┤
│  确定要启用此钱包吗？                  │
│  网络:   Ethereum                      │
│  地址:   0xabcd...efgh                 │
│                                        │
│  启用后：                               │
│  • 当前活跃钱包将被自动禁用            │
│  • 新的交易将使用此钱包                │
│                                        │
│         [取消]    [确认启用]           │
└────────────────────────────────────────┘
```

---

## 3. 删除钱包

**触发方式**：点击备用地址行的「删除」

**确认对话框（参考）**：
```
┌────────────────────────────────────────┐
│  删除钱包                          [×]  │
├────────────────────────────────────────┤
│  确定要删除此钱包吗？                  │
│  网络:   Ethereum                      │
│  地址:   0x9876...5432                 │
│  删除后无法恢复                        │
│                                        │
│         [取消]    [确认删除]           │
└────────────────────────────────────────┘
```

---

## 与 SRD 的对齐提醒

SRD（`wallet_docs/admin-api/srds/10-Vault资金管理.md`）当前只展示 `vault_address`，未定义“地址列表/启用/删除”接口。

若产品保留“多地址管理”，建议在文档中补充：

- 地址列表接口（按 `chain_id` 返回 `wallets[]`）
- 启用/删除接口与审计事件定义
- 与“链上资金归集/出款地址切换”联动的风控措施（冷却期、二次确认、审批等）

