# Vault / 页面概览与布局

> 返回 [Vault 资金管理索引](../10-Vault资金管理.md)

---

## 页面入口

- **页面路径**：`/admin/vault`
- **角色**：Admin / Finance
- **核心目标**：以“网络/链”为维度展示 Vault 资金状态，快速发现余额风险、同步异常与待审批事项。

---

## 信息架构（推荐）

> 说明：当前文档以“按网络展示”的单页结构为主；若后续演进为多 Vault（多资金池/多金库），建议在不改路由的前提下增加“Vault 维度筛选/分组”（见 `vault/08-扩展-多Vault与流动性池监控.md`）。

- 顶部：全局统计（AUM、告警、待审批、同步异常）
- 主体：按网络卡片（或表格）展示 Vault 地址、余额、阈值状态、同步状态
- 辅助：快速入口（手动同步、查看详情、调整、配置阈值）

---

## UI 结构（参考）

```
┌──────────────────────────────────────────────────────────────────────────┐
│ Header                                                                    │
├──────────┬───────────────────────────────────────────────────────────────┤
│          │ Breadcrumb: 首页 / Vault 资金管理                              │
│ Sidebar  ├───────────────────────────────────────────────────────────────┤
│          │                                                               │
│          │ ┌───────────────────────────────────────────────────────────┐ │
│          │ │ 全局统计（Summary）                                         │ │
│          │ │ 总资产(USD)  网络数  健康网络  待审批调整  活跃告警          │ │
│          │ └───────────────────────────────────────────────────────────┘ │
│          │                                                               │
│          │ ┌───────────────────────────────────────────────────────────┐ │
│          │ │ 网络卡片：Ethereum (chain_id=1)                             │ │
│          │ │ Vault 地址: 0x...     状态: healthy   同步: synced          │ │
│          │ │ 最近同步: 2025-12-10 10:00Z   blocks_behind: 5              │ │
│          │ │ [查看详情] [配置阈值] [手动同步] [发起调整]                 │ │
│          │ ├───────────────────────────────────────────────────────────┤ │
│          │ │ 资产余额表：currency | balance | available | locked | 状态  │ │
│          │ └───────────────────────────────────────────────────────────┘ │
│          │                                                               │
│          │ ┌───────────────────────────────────────────────────────────┐ │
│          │ │ 网络卡片：BSC (chain_id=56)  ...                            │ │
│          │ └───────────────────────────────────────────────────────────┘ │
└──────────┴───────────────────────────────────────────────────────────────┘
```

---

## 网络卡片布局（含地址管理，若启用“多地址模式”）

每个支持的网络显示为一个独立卡片，包含：

| 区域 | 内容 |
|------|------|
| 标题行 | 网络名称、钱包总额（USD/USDT 计价）、操作入口（添加地址/详情/同步等） |
| 活跃钱包 | 当前使用中的 Vault 地址（高亮） |
| 备用钱包 | 可折叠的钱包列表，提供启用/删除操作 |
| 余额表 | 各币种余额、阈值、同步/告警状态 |

> 备注：SRD 当前为“单地址模式”（只返回 `vault_address`）。如果产品决定保留“备用地址列表”，需要在接口层补齐地址列表与启用/删除能力（见 `vault/02-数据模型与字段.md`）。

---

## 页面状态

| 状态 | 描述 | UI 表现（建议） |
|------|------|-----------------|
| Loading | 首次加载/刷新中 | 骨架屏 + “最后更新时间”占位 |
| Partial Error | 某条链加载失败 | 卡片内错误提示 + 单卡重试 |
| Stale | 数据过期/同步延迟 | 显示“数据陈旧”标签，弱化金额可信度 |
| Normal | 同步正常且余额无风险 | 绿色/中性状态 |
| Warning | 低阈值触发或轻度同步落后 | 橙色标签 + 提示建议动作 |
| Critical | critical 阈值触发/同步严重落后 | 红色标签 + 强提示 + 引导应急预案 |

---

## UI 组件（建议清单）

| 组件名称 | 类型 | 说明 |
|----------|------|------|
| VaultSummaryStats | Card | 全局统计（与 SRD `summary.*` 对齐） |
| NetworkVaultCard | Card | 按网络展示的 Vault 卡片 |
| BalanceTable | Table | 资产余额表（可显示可用/锁定/阈值） |
| ThresholdConfigModal | Modal | 阈值/通知配置弹窗 |
| ManualSyncButton | Button | 手动同步（带 loading/结果提示） |
| AdjustmentDrawer | Drawer/Modal | 发起余额调整 |
| AdjustmentHistoryTable | Table | 调整历史（可筛选） |
| StatusBadge | Badge | healthy/warning/critical/syncing/stale |
