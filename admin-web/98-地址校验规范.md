# 地址与校验规范

> 返回 [后台管理前端目录](./README.md)

---

## 目标

为所有涉及链上地址输入/展示的功能提供一致的、可审计的地址校验与规范化策略，降低误转风险。

---

## 校验规则（按网络）

- EVM 链（Ethereum/BSC/Polygon 等）
  - 输入支持 0x 前缀的 20 字节地址
  - 强制 EIP-55 校验和校验；大小写不一致时提示并提供“自动规范化”
  - 展示使用校验和格式（EIP-55）
- Tron（TRX）
  - Base58Check 编码校验（以 T 开头）
  - 同时支持 hex 形式显示（只读），防止混淆
- Bech32（部分链/地址类型）
  - 使用各链官方 bech32 前缀与校验规则
- 通用
  - 去除不可见字符、空格、零宽字符；禁止内嵌换行
  - 黑名单列表、全局白名单优先校验
  - 链类型与地址类型匹配检查

---

## 规范化与展示

- 统一脱敏规则：保留前 6 后 4 位（如 0x1234ab…89ef）
- 复制按钮复制完整规范化地址
- 详情页提供“复制原值/规范化值”切换

---

## 集成点

- 添加 Vault 钱包地址（[10‑Vault资金管理](./10-Vault资金管理.md) / [钱包地址管理](./vault/03-钱包地址管理.md)）
- 提现目标地址（[04‑提现审批](./04-提现审批.md)）
- 黑名单添加/导入（[12‑黑名单地址管理](./12-黑名单地址管理.md)）
- 用户白名单/关联地址显示（[03‑用户管理](./03-用户管理.md)、[09‑Web3用户管理](./09-Web3用户管理.md)）

---

## 错误与警告

- 无效地址：提示“请输入有效的钱包地址（EIP‑55/Bech32/Base58Check）”
- 大小写不一致（EVM）：提示“校验和不匹配，已为你规范为 EIP‑55”并展示差异
- 链类型不匹配：提示“地址与所选网络不匹配”

---

## 审计

- 记录原始输入、规范化结果、校验类型、操作者、时间、来源页面

---

> 返回 [后台管理前端目录](./README.md)
