# 通用组件库

> 返回 [后台管理前端目录](./README.md)

---

## 概述

本文档定义后台管理系统的通用 UI 组件规范，确保各页面保持一致的交互体验和视觉风格。

**技术栈建议**: React + Ant Design 5.x

---

## 1. 布局组件

### 1.1 页面布局 (PageLayout)

**功能**: 提供统一的页面结构框架

**布局结构**:
```
┌────────────────────────────────────────────────────────────────┐
│  Header (64px)                                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ Logo        Nav Menus                  User | Logout     │  │
│  └──────────────────────────────────────────────────────────┘  │
├────────────────────────────────────────────────────────────────┤
│ Sidebar (200px) │  Main Content                                │
│ ┌─────────────┐ │ ┌────────────────────────────────────────┐   │
│ │ Menu Item 1 │ │ │ Breadcrumb                             │   │
│ │ Menu Item 2 │ │ ├────────────────────────────────────────┤   │
│ │   └ Sub 1   │ │ │                                        │   │
│ │   └ Sub 2   │ │ │ Page Content                           │   │
│ │ Menu Item 3 │ │ │                                        │   │
│ │ ...         │ │ │                                        │   │
│ │             │ │ │                                        │   │
│ │             │ │ │                                        │   │
│ └─────────────┘ │ └────────────────────────────────────────┘   │
└────────────────────────────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| siderCollapsed | boolean | false | 侧边栏是否收起 |
| breadcrumb | array | [] | 面包屑路径 |
| title | string | - | 页面标题 |

### 1.2 侧边导航 (SideMenu)

**功能**: 多级导航菜单

**菜单项配置**:
```typescript
interface MenuItem {
  key: string;          // 唯一标识
  icon: ReactNode;      // 图标
  label: string;        // 显示文本
  path?: string;        // 路由路径
  children?: MenuItem[]; // 子菜单
  permission?: string;  // 权限标识
}
```

**菜单状态**:
| 状态 | 样式 | 说明 |
|------|------|------|
| 默认 | 正常文字 | 未选中状态 |
| Hover | 背景高亮 | 鼠标悬停 |
| Active | 左侧条+背景 | 当前选中 |
| Disabled | 灰色 | 无权限 |

### 1.3 面包屑 (Breadcrumb)

**功能**: 显示当前页面路径，支持快速导航

**示例**:
```
首页 / 用户管理 / 用户详情
```

**交互**:
- 点击上级路径可跳转
- 当前页面不可点击
- 超过 4 级时折叠显示

---

## 2. 数据展示组件

### 2.1 数据表格 (DataTable)

**功能**: 展示列表数据，支持排序、筛选、分页

**表格结构**:
```
┌──────────────────────────────────────────────────────────────────┐
│ 表格标题                              [批量操作 ▼] [刷新] [设置] │
├──────────────────────────────────────────────────────────────────┤
│ [☐]│ 列1 ▲▼  │ 列2      │ 列3      │ 列4      │ 操作           │
├────┼──────────┼──────────┼──────────┼──────────┼────────────────┤
│ [☐]│ 数据1    │ 数据2    │ 数据3    │ 数据4    │ [编辑] [删除]  │
│ [☐]│ 数据1    │ 数据2    │ 数据3    │ 数据4    │ [编辑] [删除]  │
│ ...                                                              │
├──────────────────────────────────────────────────────────────────┤
│ 共 1,234 条  │ [<] 1 2 3 ... 10 [>]        每页 [20 ▼] 条       │
└──────────────────────────────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| columns | array | [] | 列配置 |
| dataSource | array | [] | 数据源 |
| loading | boolean | false | 加载状态 |
| pagination | object | {} | 分页配置 |
| rowSelection | object | - | 行选择配置 |
| scroll | object | - | 滚动配置 |

**列配置**:
```typescript
interface Column {
  key: string;           // 唯一标识
  title: string;         // 列标题
  dataIndex: string;     // 数据字段
  width?: number;        // 列宽
  fixed?: 'left'|'right'; // 固定列
  sorter?: boolean;      // 是否可排序
  filters?: array;       // 筛选选项
  render?: Function;     // 自定义渲染
}
```

**固定模式**:
- 操作列固定在右侧
- 选择列固定在左侧
- 横向滚动时保持固定

### 2.2 统计卡片 (StatCard)

**功能**: 展示关键统计数字

**卡片样式**:
```
┌────────────────────────┐
│  📊 交易总数            │
│                        │
│     12,345            │
│                        │
│  ↑ 12.5% 较昨日        │
└────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| title | string | - | 统计项名称 |
| value | number/string | - | 统计值 |
| prefix | ReactNode | - | 前缀图标 |
| suffix | string | - | 单位 |
| trend | 'up'/'down' | - | 趋势方向 |
| trendValue | string | - | 趋势值 |
| loading | boolean | false | 加载状态 |

**趋势颜色**:
| 趋势 | 图标 | 颜色 |
|------|------|------|
| 上升 | ↑ | 绿色 (#52c41a) |
| 下降 | ↓ | 红色 (#ff4d4f) |
| 持平 | - | 灰色 (#999) |

### 2.3 详情描述 (DetailDesc)

**功能**: 键值对形式展示详情信息

**布局示例**:
```
┌──────────────────────────────────────────────────────────────┐
│ 基本信息                                                      │
├──────────────────────────────────────────────────────────────┤
│ 用户 UID:     10001              创建时间:    2025-01-01     │
│ 用户名:       张三               状态:        正常 ✓         │
│ 邮箱:         test@email.com     最后登录:    2025-12-10     │
└──────────────────────────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| title | string | - | 区块标题 |
| column | number | 2 | 每行列数 |
| items | array | [] | 描述项数组 |
| bordered | boolean | false | 是否带边框 |

### 2.4 状态标签 (StatusTag)

**功能**: 展示各类状态

**预设状态**:
| 状态类型 | 颜色 | 示例 |
|----------|------|------|
| success | 绿色 | 成功、已完成、已启用 |
| warning | 橙色 | 待审核、处理中 |
| error | 红色 | 失败、已拒绝、已禁用 |
| default | 灰色 | 未知、草稿 |
| processing | 蓝色 | 进行中、待处理 |

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| status | string | 'default' | 状态类型 |
| text | string | - | 显示文本 |
| icon | ReactNode | - | 图标 |

---

## 3. 表单组件

### 3.1 筛选表单 (FilterForm)

**功能**: 列表页顶部的筛选条件表单

**布局结构**:
```
┌──────────────────────────────────────────────────────────────────┐
│ 筛选条件                                           [展开/收起 ▼] │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│ 日期范围          状态              关键词                       │
│ [日期选择器]      [下拉选择]        [输入框____________]         │
│                                                                  │
│ [展开后显示更多筛选字段...]                                      │
│                                                                  │
│                                    [重置]    [查询]              │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| fields | array | [] | 筛选字段配置 |
| defaultExpanded | boolean | false | 默认展开 |
| onSearch | function | - | 查询回调 |
| onReset | function | - | 重置回调 |

**字段配置**:
```typescript
interface FilterField {
  name: string;           // 字段名
  label: string;          // 显示标签
  type: 'input'|'select'|'date'|'dateRange'|'number'; // 字段类型
  options?: array;        // 下拉选项
  placeholder?: string;   // 占位文本
  defaultValue?: any;     // 默认值
  showInCollapsed?: boolean; // 收起时是否显示
}
```

### 3.2 编辑表单 (EditForm)

**功能**: 新增/编辑数据的表单

**布局模式**:

**单列布局** (简单表单):
```
┌────────────────────────────────────────┐
│ 表单标题                               │
├────────────────────────────────────────┤
│                                        │
│ 字段名称 *                             │
│ [________________________]             │
│                                        │
│ 字段名称                               │
│ [________________________]             │
│                                        │
│ 字段名称 *                             │
│ [下拉选择           ▼]                │
│                                        │
│         [取消]    [保存]               │
│                                        │
└────────────────────────────────────────┘
```

**双列布局** (复杂表单):
```
┌──────────────────────────────────────────────────────────────┐
│ 表单标题                                                      │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 字段1 *                           字段2 *                    │
│ [______________]                  [______________]           │
│                                                              │
│ 字段3                             字段4                      │
│ [下拉选择      ▼]                [日期选择      📅]         │
│                                                              │
│ 长文本字段 *                                                 │
│ [____________________________________________________________│
│  ____________________________________________________________]│
│                                                              │
│                              [取消]    [保存]                │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**验证提示样式**:
```
字段名称 *
[____________]
⚠️ 请输入字段名称
```

### 3.3 搜索框 (SearchInput)

**功能**: 快速搜索输入框

**样式**:
```
┌────────────────────────────────┐
│ 🔍 请输入关键词搜索...     [×] │
└────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| placeholder | string | "请输入" | 占位文本 |
| allowClear | boolean | true | 是否可清空 |
| onSearch | function | - | 搜索回调 |
| enterButton | boolean | false | 显示搜索按钮 |

**交互**:
- 输入时防抖处理 (300ms)
- 支持 Enter 键触发搜索
- 显示清空按钮

---

## 4. 反馈组件

### 4.1 模态框 (Modal)

**功能**: 弹出层对话框

**尺寸规范**:
| 类型 | 宽度 | 适用场景 |
|------|------|----------|
| 小型 | 400px | 确认对话框 |
| 中型 | 520px | 简单表单 |
| 大型 | 720px | 复杂表单 |
| 超大 | 1000px | 数据展示 |

**基础结构**:
```
┌────────────────────────────────────────┐
│ 标题                              [×]  │
├────────────────────────────────────────┤
│                                        │
│ 内容区域                               │
│                                        │
│                                        │
├────────────────────────────────────────┤
│                    [取消]    [确定]    │
└────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| title | string | - | 标题 |
| visible | boolean | false | 是否可见 |
| width | number | 520 | 宽度 |
| confirmLoading | boolean | false | 确认按钮加载 |
| onOk | function | - | 确认回调 |
| onCancel | function | - | 取消回调 |

### 4.2 抽屉 (Drawer)

**功能**: 从边缘滑出的面板

**位置选项**:
| 位置 | 说明 | 适用场景 |
|------|------|----------|
| right | 从右侧滑出 | 详情查看、编辑 |
| left | 从左侧滑出 | 导航、筛选 |
| bottom | 从底部滑出 | 移动端操作 |

**结构示例** (右侧抽屉):
```
                              ┌──────────────────────────────────┐
                              │ 详情                        [×]  │
                              ├──────────────────────────────────┤
                              │                                  │
                              │ 详情内容                         │
                              │                                  │
                              │                                  │
                              │                                  │
                              │                                  │
                              ├──────────────────────────────────┤
                              │              [关闭]    [操作]    │
                              └──────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| title | string | - | 标题 |
| visible | boolean | false | 是否可见 |
| width | number | 400 | 宽度 |
| placement | string | 'right' | 位置 |
| onClose | function | - | 关闭回调 |

### 4.3 消息提示 (Message/Toast)

**功能**: 全局轻量级反馈

**类型**:
| 类型 | 图标 | 颜色 | 场景 |
|------|------|------|------|
| success | ✓ | 绿色 | 操作成功 |
| error | × | 红色 | 操作失败 |
| warning | ⚠ | 橙色 | 警告提示 |
| info | ℹ | 蓝色 | 普通信息 |
| loading | ⟳ | 蓝色 | 加载中 |

**样式**:
```
┌──────────────────────────────┐
│  ✓ 操作成功                   │
└──────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| content | string | - | 提示内容 |
| type | string | 'info' | 消息类型 |
| duration | number | 3 | 显示时长(秒) |

### 4.4 确认对话框 (Confirm)

**功能**: 重要操作的二次确认

**样式**:
```
┌────────────────────────────────────────┐
│ ⚠️ 确认删除                            │
├────────────────────────────────────────┤
│                                        │
│ 确定要删除该用户吗？此操作不可恢复。   │
│                                        │
├────────────────────────────────────────┤
│                    [取消]    [确定]    │
└────────────────────────────────────────┘
```

**危险操作确认** (删除、禁用等):
```
┌────────────────────────────────────────┐
│ ⚠️ 危险操作                            │
├────────────────────────────────────────┤
│                                        │
│ 您正在执行危险操作，请输入 "DELETE"    │
│ 以确认：                               │
│                                        │
│ [________________]                     │
│                                        │
├────────────────────────────────────────┤
│                    [取消]    [确定]    │
└────────────────────────────────────────┘
```

---

## 5. 导航组件

### 5.1 标签页 (Tabs)

**功能**: 页面内容分组切换

**样式**:
```
┌──────────────────────────────────────────────────────────────┐
│ [Tab 1] [Tab 2] [Tab 3]                            [+ 新增]  │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ Tab 内容区域                                                 │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| items | array | [] | 标签项配置 |
| activeKey | string | - | 当前激活项 |
| onChange | function | - | 切换回调 |
| type | string | 'line' | 样式类型 |

### 5.2 步骤条 (Steps)

**功能**: 引导式操作流程

**样式**:
```
┌──────────────────────────────────────────────────────────────┐
│                                                              │
│   ①─────────②─────────③─────────④                           │
│  上传文件   数据校验   审批确认   执行完成                   │
│   [完成]    [当前]     [待处理]   [待处理]                   │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**状态**:
| 状态 | 样式 | 说明 |
|------|------|------|
| finish | 绿色 ✓ | 已完成步骤 |
| process | 蓝色高亮 | 当前步骤 |
| wait | 灰色 | 待处理步骤 |
| error | 红色 × | 错误步骤 |

---

## 6. 其他通用组件

### 6.1 复制按钮 (CopyButton)

**功能**: 点击复制文本到剪贴板

**样式**:
```
0x3a7b...8c2f [📋]
```

**交互**:
1. 点击图标
2. 显示 "已复制" 提示
3. 1.5 秒后提示消失

### 6.2 地址展示 (AddressDisplay)

**功能**: 展示区块链地址，支持复制和外链

**样式**:
```
0x3a7b...8c2f [📋] [↗]
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| address | string | - | 完整地址 |
| chain | string | - | 链类型 |
| showCopy | boolean | true | 显示复制 |
| showLink | boolean | true | 显示外链 |

### 6.3 金额展示 (AmountDisplay)

**功能**: 格式化展示金额

**样式示例**:
```
1,234.56789012 USDT
≈ $1,234.57
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| amount | number | - | 金额数值 |
| token | string | - | 代币符号 |
| decimals | number | 8 | 小数位数 |
| showUsd | boolean | false | 显示美元估值 |

### 6.4 空状态 (EmptyState)

**功能**: 无数据时的占位展示

**样式**:
```
┌──────────────────────────────────────┐
│                                      │
│            📭                        │
│                                      │
│         暂无数据                     │
│   您还没有任何交易记录               │
│                                      │
│        [创建第一条记录]              │
│                                      │
└──────────────────────────────────────┘
```

**属性**:
| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| image | ReactNode | 默认图片 | 空状态图片 |
| description | string | "暂无数据" | 描述文本 |
| action | ReactNode | - | 操作按钮 |

### 6.5 加载状态 (Loading)

**功能**: 数据加载中的占位展示

**类型**:
| 类型 | 场景 | 样式 |
|------|------|------|
| Spin | 局部加载 | 旋转图标 |
| Skeleton | 页面加载 | 骨架屏 |
| Progress | 进度加载 | 进度条 |

**骨架屏示例**:
```
┌──────────────────────────────────────┐
│ ████████████                         │
│ ██████████████████████               │
│ ████████████████                     │
│                                      │
│ ████████████████████████████████████ │
│ ████████████████████████████████████ │
│ ████████████████████████████         │
└──────────────────────────────────────┘
```

### 6.6 结果页 (Result)

**功能**: 操作结果反馈页面

**样式**:
```
┌──────────────────────────────────────┐
│                                      │
│              ✓                       │
│                                      │
│         操作成功                     │
│                                      │
│   您的提现申请已提交，请等待审核     │
│                                      │
│    [返回列表]    [查看详情]          │
│                                      │
└──────────────────────────────────────┘
```

**状态类型**:
| 类型 | 图标 | 颜色 |
|------|------|------|
| success | ✓ | 绿色 |
| error | × | 红色 |
| warning | ⚠ | 橙色 |
| info | ℹ | 蓝色 |

---

## 7. 颜色规范

### 主题色

| 名称 | 色值 | 用途 |
|------|------|------|
| Primary | #1890ff | 主要操作、链接 |
| Success | #52c41a | 成功状态 |
| Warning | #faad14 | 警告状态 |
| Error | #ff4d4f | 错误状态 |
| Info | #1890ff | 信息提示 |

### 中性色

| 名称 | 色值 | 用途 |
|------|------|------|
| Title | #262626 | 标题文字 |
| Text | #595959 | 正文文字 |
| Secondary | #8c8c8c | 辅助文字 |
| Disabled | #bfbfbf | 禁用状态 |
| Border | #d9d9d9 | 边框 |
| Background | #f5f5f5 | 背景 |

---

## 8. 间距规范

### 基础间距

| 级别 | 数值 | 用途 |
|------|------|------|
| xs | 4px | 紧凑元素间距 |
| sm | 8px | 相关元素间距 |
| md | 16px | 常规间距 |
| lg | 24px | 区块间距 |
| xl | 32px | 大区块间距 |

### 应用场景

| 场景 | 间距 |
|------|------|
| 表单项间距 | 24px (lg) |
| 卡片内边距 | 24px (lg) |
| 表格单元格 | 16px (md) |
| 按钮组间距 | 8px (sm) |
| 图标与文字 | 8px (sm) |

---

## 9. 响应式断点

| 断点 | 屏幕宽度 | 布局调整 |
|------|----------|----------|
| xs | < 576px | 单列布局，隐藏侧边栏 |
| sm | ≥ 576px | 单列布局 |
| md | ≥ 768px | 双列表单 |
| lg | ≥ 992px | 完整侧边栏 |
| xl | ≥ 1200px | 宽屏优化 |
| xxl | ≥ 1600px | 超宽屏优化 |

---

> 返回 [后台管理前端目录](./README.md)
