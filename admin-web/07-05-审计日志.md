# Audit Logs (审计日志)

> Back to [Admin Web Docs](./README.md) · Up to [System Settings Index](./07-系统设置.md)

---

## Page Overview

- **Entry**: `/admin/settings` → Audit Logs (审计日志)
- **Goal**: Provide a complete, tamper-evident record of administrative actions for security, investigations, and compliance (SOC 2 / ISO 27001).

---

## Audit Event Requirements (Enterprise Baseline)

Every audit event should include:

- Who: admin identity (`admin_id`, `username`, `name`)
- When: UTC timestamp (store) + localized rendering (UI)
- What: canonical action code (e.g., `config.update`, `admin.disable`)
- Where: `ip`, `user_agent`, optional geo
- Target: `target_type`, `target_id`, optional human name
- Change: before/after diff for configuration and permission changes
- Context: `reason` for sensitive actions; correlation IDs for multi-step flows

---

## UI / UX Specification (Extracted from Legacy Doc)

### Audit Log List

**Filters**:

| Field | Widget | Notes |
|---|---|---|
| Date range | RangePicker | Operation time |
| Operator | Select | Admin user |
| Action type | Select | User/Approval/Config/etc |
| Target | Input | Target ID search |

**Table columns**:

| Column | Field | Notes |
|---|---|---|
| Time | `created_at` | Operation timestamp |
| Operator | `operator` | User identity |
| Action | `action` | Canonical code |
| Description | `description` | Human readable |
| Target Type | `target_type` | e.g., `user`, `withdraw`, `config`, `admin` |
| Target ID | `target_id` | Identifier |
| IP | `ip` | Client IP |
| Details | - | Drawer / modal |

### Retention Policy

| Setting | Default | Notes |
|---|---:|---|
| Online retention | 1 year | Searchable in UI |
| Archive retention | 3 years | Restorable on request |
| Archive cycle | monthly | Automated archival |
| Export formats | Excel/CSV | Controlled export |

---

## API Mapping (Current)

See `wallet_docs/admin-api/srds/07-系统设置.md`:

- `GET /api/v1/admin/settings/audit-logs`

---

> Back to [Admin Web Docs](./README.md)
