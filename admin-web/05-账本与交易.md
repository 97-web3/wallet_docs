# è´¦æœ¬ä¸äº¤æ˜“

> è¿”å› [åå°ç®¡ç†å‰ç«¯ç›®å½•](./README.md)

---

## é¡µé¢æ¦‚è¿°

- **é¡µé¢è·¯å¾„**: `/admin/ledger`
- **æƒé™è¦æ±‚**: Admin æˆ– Finance è§’è‰²
- **ä¸»è¦åŠŸèƒ½**: äº¤æ˜“å†å²æŸ¥è¯¢ã€è´¦æœ¬è®°å½•ç®¡ç†ã€å……å€¼è®°å½•ç®¡ç†ã€å¯¹è´¦å·¥å…·
  - å……å€¼è®°å½•çš„è¯¦ç»†è®¾è®¡è§ï¼š[16-å……å€¼è®°å½•](./16-å……å€¼è®°å½•.md)

---

## é¡µé¢å¸ƒå±€

### è´¦æœ¬ä¸äº¤æ˜“ä¸»é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header                                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚  Breadcrumb: é¦–é¡µ / è´¦æœ¬ä¸äº¤æ˜“                                 â”‚
â”‚  Sidebar â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                                                â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚ Tab åˆ‡æ¢                                                  â”‚ â”‚
â”‚          â”‚  â”‚ [äº¤æ˜“å†å²] [å……å€¼è®°å½•] [è´¦æœ¬æŸ¥è¯¢] [å¯¹è´¦å·¥å…·]               â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”‚  [äº¤æ˜“å†å²] Tab å†…å®¹:                                         â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚ ç­›é€‰åŒºåŸŸ                                                  â”‚ â”‚
â”‚          â”‚  â”‚ [ç±»å‹â–¼] [æ–¹å‘â–¼] [é’±åŒ…â–¼] [é“¾â–¼] [çŠ¶æ€â–¼] [æ—¥æœŸèŒƒå›´] [å…³é”®è¯] â”‚ â”‚
â”‚          â”‚  â”‚ [ğŸ”æœç´¢] [é‡ç½®]  (é«˜çº§ç­›é€‰: ä¸šåŠ¡å…³è”/è¯·æ±‚æ¥æºç­‰)           â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                                                                â”‚
â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚                                              [å¯¼å‡º]       â”‚ â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚          â”‚  â”‚ â”‚äº¤æ˜“ID â”‚ç±»å‹   â”‚ç”¨æˆ·UIDâ”‚é‡‘é¢      â”‚é“¾  â”‚çŠ¶æ€  â”‚æ—¶é—´  â”‚  â”‚ â”‚
â”‚          â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚          â”‚  â”‚ â”‚TX001  â”‚å……å€¼   â”‚10001  â”‚5,000 USDTâ”‚TRX â”‚å·²å®Œæˆâ”‚12-10 â”‚  â”‚ â”‚
â”‚          â”‚  â”‚ â”‚TX002  â”‚æç°   â”‚10002  â”‚3,000 USDTâ”‚ETH â”‚å¤„ç†ä¸­â”‚12-10 â”‚  â”‚ â”‚
â”‚          â”‚  â”‚ â”‚TX003  â”‚åˆ’è½¬   â”‚10003  â”‚1,000 USDTâ”‚-   â”‚å·²å®Œæˆâ”‚12-10 â”‚  â”‚ â”‚
â”‚          â”‚  â”‚ ...                                                       â”‚ â”‚
â”‚          â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚          â”‚  â”‚                    < 1 2 3 4 5 ... 10 >                   â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åŠŸèƒ½æ¨¡å—

### 1. äº¤æ˜“å†å²

**åŠŸèƒ½æè¿°**: ç»Ÿä¸€å±•ç¤ºæ‰€æœ‰ç±»å‹çš„äº¤æ˜“è®°å½•

**ç”¨æˆ·è§’è‰²**: Admin / Finance

#### 1.1 äº¤æ˜“åˆ—è¡¨ç­›é€‰

**UI ç»„ä»¶**:
- **Select**: ç±»å‹ã€æ–¹å‘ã€é’±åŒ…ç±»å‹ã€é“¾ã€çŠ¶æ€ã€å¸ç§ç­›é€‰
- **DatePicker.RangePicker**: æ—¥æœŸèŒƒå›´
- **Input**: ç”¨æˆ· UID / äº¤æ˜“ ID æœç´¢
- **Collapse (å¯é€‰)**: é«˜çº§ç­›é€‰ï¼ˆä¸šåŠ¡å…³è”ã€è¯·æ±‚æ¥æºç­‰ï¼‰
- **Button**: æœç´¢ã€é‡ç½®ã€å¯¼å‡º

**ç­›é€‰æ¡ä»¶**:
| å­—æ®µ | ç»„ä»¶ | é€‰é¡¹ |
|------|------|------|
| äº¤æ˜“ç±»å‹ | Select | å…¨éƒ¨ã€å…¥è´¦ã€å‡ºè´¦ã€å†…éƒ¨è½¬è´¦ã€Swapã€è–ªèµ„ã€è°ƒæ•´ |
| èµ„é‡‘æ–¹å‘ | Select | å…¨éƒ¨ã€å…¥ï¼ˆinï¼‰ã€å‡ºï¼ˆoutï¼‰ |
| é’±åŒ…ç±»å‹ | Select | å…¨éƒ¨ã€å¯ç”¨ï¼ˆavailableï¼‰ã€å†»ç»“ï¼ˆfrozenï¼‰ |
| é“¾ | Select | å…¨éƒ¨ã€TRXã€ETHã€BSCã€Polygon |
| å¸ç§ | Select | å…¨éƒ¨ã€USDTã€USDCã€TRXã€ETHã€BNBã€MATIC |
| çŠ¶æ€ | Select | å…¨éƒ¨ã€æˆåŠŸã€å¤„ç†ä¸­ã€å¤±è´¥ |
| æ—¥æœŸèŒƒå›´ | RangePicker | äº¤æ˜“æ—¶é—´èŒƒå›´ |
| é‡‘é¢èŒƒå›´ | InputNumber | æœ€å°/æœ€å¤§é‡‘é¢ |
| å…³é”®è¯ | Input | äº¤æ˜“ ID æˆ–ç”¨æˆ· UID |

**é«˜çº§ç­›é€‰ï¼ˆå»ºè®®æŠ˜å ï¼‰**:
| å­—æ®µ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|
| å…³è”ä¸šåŠ¡ç±»å‹ | Select | ä¾‹å¦‚ï¼šwithdrawal_orderã€transferã€swapã€payrollã€adjustment |
| å…³è”ä¸šåŠ¡ID | Input | `related_entity_id`ï¼Œç”¨äºå¿«é€Ÿå®šä½ä¸šåŠ¡å•æ® |
| å¹‚ç­‰ä¸šåŠ¡ID | Input | `business_id`ï¼Œç”¨äºæ’æŸ¥é‡å¤è¯·æ±‚/å¹‚ç­‰å†²çª |
| å¯¹æ–¹ç”¨æˆ· | Input | `target_user_id / target_username`ï¼ˆè½¬è´¦ç±»äº¤æ˜“ï¼‰ |
| è¯·æ±‚æ¥æº | Select | `request_source`ï¼šwebã€apiã€admin ç­‰ |

#### 1.2 äº¤æ˜“åˆ—è¡¨å±•ç¤º

**è¡¨æ ¼åˆ—**:
| åˆ—å | å­—æ®µ | å®½åº¦ | è¯´æ˜ |
|------|------|------|------|
| äº¤æ˜“ID | tx_id | 120px | äº¤æ˜“å”¯ä¸€æ ‡è¯† |
| ç±»å‹ | type | 80px | äº¤æ˜“ç±»å‹æ ‡ç­¾ |
| æ–¹å‘ | direction | 70px | in/out æ ‡ç­¾ï¼ˆå…¥/å‡ºï¼‰ |
| é’±åŒ… | wallet_type | 90px | available/frozen æ ‡ç­¾ï¼ˆå¯ç”¨/å†»ç»“ï¼‰ |
| ç”¨æˆ·UID | user_id | 80px | å…³è”ç”¨æˆ· |
| é‡‘é¢ | amount | 120px | äº¤æ˜“é‡‘é¢å’Œå¸ç§ |
| æ‰‹ç»­è´¹ | fee_amount | 100px | é 0 æ—¶æ˜¾ç¤º |
| å…³è”ä¸šåŠ¡ | related_entity | 140px | `related_entity_type + related_entity_id` |
| é“¾ | chain | 60px | åŒºå—é“¾ï¼ˆåˆ’è½¬ä¸º -ï¼‰ |
| çŠ¶æ€ | status | 80px | çŠ¶æ€æ ‡ç­¾ |
| æ—¶é—´ | created_at | 160px | äº¤æ˜“æ—¶é—´ |
| æ“ä½œ | - | 100px | æŸ¥çœ‹è¯¦æƒ… |

**äº¤æ˜“ç±»å‹æ ‡ç­¾**:
| ç±»å‹ | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| inbound | ç»¿è‰² | å…¥è´¦ï¼ˆå……å€¼ï¼‰ |
| outbound | è“è‰² | å‡ºè´¦ï¼ˆæç°ï¼‰ |
| internal | ç´«è‰² | å†…éƒ¨è½¬è´¦ |
| swap | æ©™è‰² | Swap å…‘æ¢ |
| payroll | é»„è‰² | è–ªèµ„å‘æ”¾ |
| adjustment | ç°è‰² | è°ƒæ•´ |

**äº¤æ˜“çŠ¶æ€æ ‡ç­¾**:
| çŠ¶æ€ | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| success | ç»¿è‰² | æˆåŠŸ |
| processing | è“è‰² | å¤„ç†ä¸­ |
| failed | çº¢è‰² | å¤±è´¥ |

#### 1.3 äº¤æ˜“è¯¦æƒ…æŠ½å±‰

**UI ç»„ä»¶**:
- **Drawer**: æŠ½å±‰å®¹å™¨
- **Descriptions**: è¯¦æƒ…åˆ—è¡¨
- **Timeline**: çŠ¶æ€å˜æ›´è®°å½•

**è¯¦æƒ…å†…å®¹**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº¤æ˜“è¯¦æƒ…                         [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  åŸºæœ¬ä¿¡æ¯                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ äº¤æ˜“ID:     TX001                â”‚  â”‚
â”‚  â”‚ äº¤æ˜“ç±»å‹:   å…¥è´¦                  â”‚  â”‚
â”‚  â”‚ èµ„é‡‘æ–¹å‘:   å…¥ï¼ˆinï¼‰              â”‚  â”‚
â”‚  â”‚ é’±åŒ…ç±»å‹:   å¯ç”¨ï¼ˆavailableï¼‰     â”‚  â”‚
â”‚  â”‚ äº¤æ˜“é‡‘é¢:   5,000.00 USDT        â”‚  â”‚
â”‚  â”‚ æ‰‹ç»­è´¹:     0.00 USDT             â”‚  â”‚
â”‚  â”‚ é“¾:         TRX                  â”‚  â”‚
â”‚  â”‚ çŠ¶æ€:       æˆåŠŸ                 â”‚  â”‚
â”‚  â”‚ åˆ›å»ºæ—¶é—´:   2025-12-10 10:30:00  â”‚  â”‚
â”‚  â”‚ å®Œæˆæ—¶é—´:   2025-12-10 10:35:00  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  ç”¨æˆ·ä¿¡æ¯                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç”¨æˆ·UID:    10001                â”‚  â”‚
â”‚  â”‚ æ‰‹æœºå·:     138****1234          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  ä½™é¢å¿«ç…§ï¼ˆå®¡è®¡/å¯¹è´¦ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ äº¤æ˜“å‰ä½™é¢:  10,000.00 USDT       â”‚  â”‚
â”‚  â”‚ äº¤æ˜“åä½™é¢:  15,000.00 USDT       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  å…³è”ä¿¡æ¯                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å…³è”ä¸šåŠ¡:   withdrawal_order/123 â”‚  â”‚
â”‚  â”‚ å…³è”äº¤æ˜“:   TX002 (å¯¹æ–¹/é•œåƒè®°å½•)â”‚  â”‚
â”‚  â”‚ å¹‚ç­‰ä¸šåŠ¡ID: biz_20251210_0001     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  é“¾ä¸Šä¿¡æ¯ (å…¥è´¦/å‡ºè´¦/Swap)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ äº¤æ˜“å“ˆå¸Œ:   3a7b2c...   [å¤åˆ¶]   â”‚  â”‚
â”‚  â”‚ From:       T9yD14...   [å¤åˆ¶]   â”‚  â”‚
â”‚  â”‚ To:         TAbc12...   [å¤åˆ¶]   â”‚  â”‚
â”‚  â”‚ åŒºå—é«˜åº¦:   12345678             â”‚  â”‚
â”‚  â”‚ ç¡®è®¤æ•°:     20                   â”‚  â”‚
â”‚  â”‚ æ‰‹ç»­è´¹:     2.00 TRX ($0.20)     â”‚  â”‚
â”‚  â”‚ [åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ â†—]               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  å¤‡æ³¨/Memo                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç”¨æˆ·å¤‡æ³¨å†…å®¹ï¼ˆå¦‚æœ‰ï¼‰              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  è¯·æ±‚ä¿¡æ¯ï¼ˆå¯æŠ˜å ï¼‰                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ¥æº: web / api / admin           â”‚  â”‚
â”‚  â”‚ IP:   203.0.113.10                â”‚  â”‚
â”‚  â”‚ UA:   Mozilla/...                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â”‚  çŠ¶æ€å˜æ›´è®°å½•                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â— 2025-12-10 10:35 æˆåŠŸ          â”‚  â”‚
â”‚  â”‚ â”‚                                â”‚  â”‚
â”‚  â”‚ â—‹ 2025-12-10 10:32 ç¡®è®¤ä¸­ (15/20)â”‚  â”‚
â”‚  â”‚ â”‚                                â”‚  â”‚
â”‚  â”‚ â—‹ 2025-12-10 10:30 å¾…ç¡®è®¤        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤æ˜“è¯¦æƒ…æ•°æ®æ¨¡å‹**:
```typescript
interface Transaction {
  id: string;
  type: 'å…¥è´¦' | 'å‡ºè´¦' | 'å†…éƒ¨è½¬è´¦' | 'Swap';
  direction?: 'in' | 'out';
  walletType?: 'available' | 'frozen';
  amount: number;
  currency: string;
  feeAmount?: number;
  feeCurrency?: string;
  balanceBefore?: number;
  balanceAfter?: number;
  fromAddress: string;
  toAddress: string;
  network: string;
  txHash: string;
  status: 'æˆåŠŸ' | 'å¤„ç†ä¸­' | 'å¤±è´¥';
  createdAt: string;
  processedAt?: string;
  relatedTransactionId?: string;
  relatedEntityType?: string;
  relatedEntityId?: string;
  businessId?: string;
  targetUserId?: string;
  targetUsername?: string;
  requestSource?: string;
  requestIp?: string;
  requestUserAgent?: string;
  requestMetadata?: Record<string, unknown>;
  note?: string;
}
```

**åŒºå—é“¾æµè§ˆå™¨é“¾æ¥**:
| é“¾ | æµè§ˆå™¨ | URL æ¨¡æ¿ |
|-----|--------|----------|
| TRX | Tronscan | `https://tronscan.org/#/transaction/{hash}` |
| ETH | Etherscan | `https://etherscan.io/tx/{hash}` |
| BSC | BscScan | `https://bscscan.com/tx/{hash}` |

---

### 2. è´¦æœ¬æŸ¥è¯¢

**åŠŸèƒ½æè¿°**: æŸ¥è¯¢ Web2 é’±åŒ…çš„è´¦æœ¬è®°å½•ï¼ˆåŒé‡è®°è´¦ï¼‰

**ç”¨æˆ·è§’è‰²**: Admin / Finance

**é¡µé¢è·¯å¾„**: `/admin/ledger` â†’ è´¦æœ¬æŸ¥è¯¢ Tab

#### 2.1 è´¦æœ¬ç­›é€‰

**ç­›é€‰æ¡ä»¶**:
| å­—æ®µ | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|
| è®°å½•ç±»å‹ | Select | å…¨éƒ¨ã€å€Ÿæ–¹ã€è´·æ–¹ |
| è´¦æˆ·ç±»å‹ | Select | å…¨éƒ¨ã€ç”¨æˆ·è´¦æˆ·ã€Vault è´¦æˆ·ã€æ‰‹ç»­è´¹è´¦æˆ· |
| å¸ç§ | Select | USDTã€TRXã€ETHã€BNB |
| æ—¥æœŸèŒƒå›´ | RangePicker | è®°å½•æ—¶é—´ |
| ç”¨æˆ·UID | Input | æœç´¢æŒ‡å®šç”¨æˆ· |

#### 2.2 è´¦æœ¬åˆ—è¡¨

**è¡¨æ ¼åˆ—**:
| åˆ—å | å­—æ®µ | è¯´æ˜ |
|------|------|------|
| è®°å½•ID | entry_id | è´¦æœ¬æ¡ç›® ID |
| æ—¶é—´ | created_at | è®°å½•æ—¶é—´ |
| è´¦æˆ· | account | è´¦æˆ·æ ‡è¯† |
| ç±»å‹ | type | å€Ÿæ–¹/è´·æ–¹ |
| é‡‘é¢ | amount | é‡‘é¢ |
| å¸ç§ | asset | å¸ç§ |
| å…³è”äº¤æ˜“ | tx_ref | å…³è”çš„äº¤æ˜“ ID |
| ä½™é¢ | balance_after | æ“ä½œåä½™é¢ |
| å¤‡æ³¨ | memo | å¤‡æ³¨è¯´æ˜ |

---

### 3. å¯¹è´¦å·¥å…·

**åŠŸèƒ½æè¿°**: è´¦æœ¬ä½™é¢ä¸é“¾ä¸Šä½™é¢å¯¹è´¦

**ç”¨æˆ·è§’è‰²**: Finance

**é¡µé¢è·¯å¾„**: `/admin/ledger` â†’ å¯¹è´¦å·¥å…· Tab

#### 3.1 å¯¹è´¦æ¦‚è§ˆ

**UI ç»„ä»¶**:
- **Card**: å¯¹è´¦çŠ¶æ€å¡ç‰‡
- **Table**: å¯¹è´¦æ˜ç»†
- **Alert**: å·®å¼‚æé†’

**å¯¹è´¦ç»“æœå±•ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¹è´¦ç»“æœ - 2025-12-10                              [æ‰§è¡Œå¯¹è´¦]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ æœ€åå¯¹è´¦æ—¶é—´: 2025-12-10 06:00:00                               â”‚
â”‚ å¯¹è´¦ç»“æœ: âœ“ è´¦å®ç›¸ç¬¦                                            â”‚
â”‚                                                                  â”‚
â”‚ å¯¹è´¦æ˜ç»†                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â”‚è´¦æˆ·ç±»å‹     â”‚å¸ç§â”‚è´¦æœ¬ä½™é¢      â”‚é“¾ä¸Šä½™é¢      â”‚å·®å¼‚â”‚çŠ¶æ€  â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â”‚Vault-TRX-Hotâ”‚USDTâ”‚80,000.00    â”‚80,000.00    â”‚0   â”‚âœ“ ç›¸ç¬¦â”‚ â”‚
â”‚ â”‚ â”‚Vault-ETH-Hotâ”‚USDTâ”‚60,000.00    â”‚60,000.00    â”‚0   â”‚âœ“ ç›¸ç¬¦â”‚ â”‚
â”‚ â”‚ â”‚Vault-BSC-Hotâ”‚USDTâ”‚40,000.00    â”‚40,005.00    â”‚+5  â”‚âš  å¾…æŸ¥â”‚ â”‚
â”‚ â”‚ â”‚ç”¨æˆ·æ‰˜ç®¡åˆè®¡ â”‚USDTâ”‚500,000.00   â”‚500,000.00   â”‚0   â”‚âœ“ ç›¸ç¬¦â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚ âš ï¸ å‘ç° 1 å¤„å·®å¼‚ï¼Œè¯·æ ¸æŸ¥                                        â”‚
â”‚ [æŸ¥çœ‹å·®å¼‚è¯¦æƒ…]  [ä¸‹è½½å¯¹è´¦æŠ¥å‘Š]                                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2 å·®å¼‚å¤„ç†

**å·®å¼‚è¯¦æƒ…å¯¹è¯æ¡†**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯¹è´¦å·®å¼‚è¯¦æƒ…                     [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  è´¦æˆ·: Vault-BSC-Hot-USDT              â”‚
â”‚                                        â”‚
â”‚  è´¦æœ¬ä½™é¢:   40,000.00 USDT           â”‚
â”‚  é“¾ä¸Šä½™é¢:   40,005.00 USDT           â”‚
â”‚  å·®å¼‚é‡‘é¢:   +5.00 USDT (é“¾ä¸Šå¤š)       â”‚
â”‚                                        â”‚
â”‚  å¯èƒ½åŸå› :                             â”‚
â”‚  â€¢ æœªå…¥è´¦çš„å……å€¼äº¤æ˜“                    â”‚
â”‚  â€¢ æ‰‹ç»­è´¹è¿”è¿˜                          â”‚
â”‚  â€¢ ç³»ç»Ÿæœªè®°å½•çš„è½¬å…¥                    â”‚
â”‚                                        â”‚
â”‚  è¿‘æœŸç›¸å…³äº¤æ˜“:                         â”‚
â”‚  [æŸ¥çœ‹æœ€è¿‘ 24h BSC é“¾äº¤æ˜“]             â”‚
â”‚                                        â”‚
â”‚  å¤„ç†æ–¹å¼:                             â”‚
â”‚  [â—‹ åˆ›å»ºè°ƒæ•´è®°å½•ï¼ˆè´¦æœ¬ +5ï¼‰           ]â”‚
â”‚  [â—‹ æ ‡è®°ä¸ºå¾…æŸ¥                        ]â”‚
â”‚  [â—‹ å¿½ç•¥ï¼ˆè®°å½•åŸå› ï¼‰                  ]â”‚
â”‚                                        â”‚
â”‚         [å–æ¶ˆ]    [æäº¤å¤„ç†]           â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UI ç»„ä»¶åˆ—è¡¨

| ç»„ä»¶åç§° | ç±»å‹ | åŠŸèƒ½è¯´æ˜ |
|----------|------|----------|
| TransactionFilter | Form | äº¤æ˜“ç­›é€‰è¡¨å• |
| TransactionTable | Table | äº¤æ˜“åˆ—è¡¨è¡¨æ ¼ |
| TransactionDrawer | Drawer | äº¤æ˜“è¯¦æƒ…æŠ½å±‰ |
| DepositFilter | Form | å……å€¼è®°å½•ç­›é€‰è¡¨å• |
| DepositTable | Table | å……å€¼è®°å½•è¡¨æ ¼ |
| DepositDrawer | Drawer | å……å€¼è¯¦æƒ…æŠ½å±‰ |
| DepositExceptionModal | Modal | å……å€¼å¼‚å¸¸å¤„ç†å¯¹è¯æ¡† |
| LedgerFilter | Form | è´¦æœ¬ç­›é€‰è¡¨å• |
| LedgerTable | Table | è´¦æœ¬è®°å½•è¡¨æ ¼ |
| ReconcileResult | Card | å¯¹è´¦ç»“æœå±•ç¤º |
| DiscrepancyModal | Modal | å·®å¼‚å¤„ç†å¯¹è¯æ¡† |
| ExplorerLink | Link | åŒºå—é“¾æµè§ˆå™¨é“¾æ¥ |

---

## çŠ¶æ€ä¸äº¤äº’

### é¡µé¢çŠ¶æ€

| çŠ¶æ€ | æè¿° | UI è¡¨ç° |
|------|------|---------|
| Loading | æ•°æ®åŠ è½½ä¸­ | æ˜¾ç¤ºéª¨æ¶å± |
| Empty | æ— æ•°æ® | æ˜¾ç¤ºç©ºçŠ¶æ€ |
| Error | åŠ è½½å¤±è´¥ | æ˜¾ç¤ºé”™è¯¯æç¤º |
| Reconciling | å¯¹è´¦æ‰§è¡Œä¸­ | æ˜¾ç¤ºè¿›åº¦æ¡ |

### ç”¨æˆ·æ“ä½œå“åº”

| æ“ä½œ | æˆåŠŸå“åº” | å¤±è´¥å“åº” |
|------|----------|----------|
| å¯¼å‡ºäº¤æ˜“ | å¼€å§‹ä¸‹è½½æ–‡ä»¶ | Toast æ˜¾ç¤ºé”™è¯¯ |
| è°ƒæ•´ä½™é¢ | Toast "è°ƒæ•´å·²æäº¤" | Alert æ˜¾ç¤ºé”™è¯¯ |
| æ‰§è¡Œå¯¹è´¦ | æ˜¾ç¤ºå¯¹è´¦ç»“æœ | Alert æ˜¾ç¤ºé”™è¯¯ |

---

## æƒé™æ§åˆ¶

| åŠŸèƒ½ | Admin | Finance |
|------|-------|---------|
| æŸ¥çœ‹äº¤æ˜“å†å² | âœ“ | âœ“ |
| å¯¼å‡ºäº¤æ˜“è®°å½• | âœ“ | âœ“ |
| æŸ¥çœ‹è´¦æœ¬è®°å½• | âœ“ | âœ“ |
| æŸ¥çœ‹ Vault ä½™é¢ | âœ“ | âœ“ |
| è°ƒæ•´ Vault ä½™é¢ | âœ“ | ï¼ˆå‘èµ·ï¼‰ |
| æ‰§è¡Œå¯¹è´¦ | âœ“ | âœ“ |
| å¤„ç†å¯¹è´¦å·®å¼‚ | âœ“ | âœ“ |

---

## æ•°æ®å¯¼å‡º

### æ”¯æŒçš„å¯¼å‡ºæ ¼å¼

| æ ¼å¼ | è¯´æ˜ |
|------|------|
| Excel (.xlsx) | å®Œæ•´æ•°æ®ï¼Œæ”¯æŒç­›é€‰ |
| CSV (.csv) | çº¯æ–‡æœ¬æ ¼å¼ |

### å¯¼å‡ºå­—æ®µ

äº¤æ˜“å†å²å¯¼å‡ºå­—æ®µï¼š
- äº¤æ˜“IDã€ç±»å‹ã€ç”¨æˆ·UIDã€é‡‘é¢ã€å¸ç§ã€é“¾
- æ–¹å‘ã€é’±åŒ…ç±»å‹ã€çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ã€å®Œæˆæ—¶é—´
- å…³è”ä¸šåŠ¡ç±»å‹/IDã€å¹‚ç­‰ä¸šåŠ¡IDï¼ˆå¦‚æœ‰ï¼‰
- ä½™é¢å¿«ç…§ï¼ˆäº¤æ˜“å‰/åä½™é¢ï¼Œå»ºè®®ç”¨äºå¯¹è´¦ï¼‰
- äº¤æ˜“å“ˆå¸Œï¼ˆé“¾ä¸Šäº¤æ˜“ï¼‰ã€æ‰‹ç»­è´¹

å¯é€‰å¯¼å‡ºå­—æ®µï¼ˆå»ºè®®æŒ‰æƒé™æ§åˆ¶/é¿å…ä¿¡æ¯è¿‡è½½ï¼‰ï¼š
- è¯·æ±‚æ¥æºã€è¯·æ±‚æ—¶é—´ï¼ˆç”¨äºå®‰å…¨å®¡è®¡ä¸é—®é¢˜å¤ç›˜ï¼‰

è´¦æœ¬è®°å½•å¯¼å‡ºå­—æ®µï¼š
- è®°å½•IDã€æ—¶é—´ã€è´¦æˆ·ã€ç±»å‹
- é‡‘é¢ã€å¸ç§ã€æ“ä½œåä½™é¢
- å…³è”äº¤æ˜“ã€å¤‡æ³¨

---

## æ’åºä¸åˆ†é¡µ

**æ’åºå­—æ®µ**:
- äº¤æ˜“å†å²ï¼šæ—¶é—´ã€é‡‘é¢ã€ç±»å‹ã€çŠ¶æ€ã€é“¾ã€ç¡®è®¤æ•°
- è´¦æœ¬è®°å½•ï¼šæ—¶é—´ã€è´¦æˆ·ã€é‡‘é¢ã€ä½™é¢ã€ç±»å‹
- å……å€¼è®°å½•ï¼šæ—¶é—´ã€é‡‘é¢ã€é“¾ã€çŠ¶æ€ã€ç¡®è®¤æ•°

**åˆ†é¡µ**: æ˜¾ç¤ºæ€»æ•°ã€æ¯é¡µ 20/50/100ã€è·¨é¡µé€‰æ‹©ç”¨äºå¯¼å‡ºæˆ–æ‰¹é‡å¤„ç†ï¼ˆä»…é™å…è®¸çš„æ“ä½œï¼‰ã€‚

---

## é‡ç»„ä¸ç¡®è®¤ç­–ç•¥

- ç¡®è®¤é˜ˆå€¼æ¥è‡ªç³»ç»Ÿè®¾ç½®ï¼ˆå„é“¾ç‹¬ç«‹é…ç½®ï¼‰ï¼›å½“é“¾ä¸Šé‡ç»„å¯¼è‡´ç¡®è®¤å›é€€æ—¶ï¼š
  - åœ¨äº¤æ˜“è¯¦æƒ…ä¸åˆ—è¡¨ä¸Šæ ‡æ³¨â€œç¡®è®¤å›é€€â€çŠ¶æ€
  - è‡ªåŠ¨é‡æ–°å¯¹è´¦å¹¶åœ¨â€œå¯¹è´¦å·¥å…·â€ä¸­è®°å½•å·®å¼‚
  - å‘å‡ºå‘Šè­¦ï¼ˆè§„åˆ™è§ [ç³»ç»Ÿè®¾ç½® â†’ å‘Šè­¦è®¾ç½®](./07-04-å‘Šè­¦è®¾ç½®.md)ï¼‰

> è¿”å› [åå°ç®¡ç†å‰ç«¯ç›®å½•](./README.md)
