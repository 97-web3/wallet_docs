# HTTP 路由列表

> **限流说明**: 表中"限流"列显示主要限流规则。部分接口有多级限流策略（如验证码接口），详见对应的功能章节（如 F-GW-007）。
> - `(IP)` 表示按 IP 限流
> - `(User)` 表示按用户 ID 限流
> - 无标注表示全局限流

---

## Business Service 路由

### 认证相关路由

| 方法 | 路径 | gRPC 方法 | 认证 | 限流 |
|------|------|-----------|------|------|
| POST | `/api/v1/auth/register` | Register | 否 | 10/s (IP) |
| POST | `/api/v1/auth/login` | Login | 否 | 5/s (IP) |
| POST | `/api/v1/auth/login/email` | LoginByEmail | 否 | 5/s (IP) |
| POST | `/api/v1/auth/login/biometric` | LoginByBiometric | 否 | 10/s (IP) |
| POST | `/api/v1/auth/logout` | Logout | 是 | 10/s |
| POST | `/api/v1/auth/refresh-token` | RefreshToken | 否 | 10/s |
| POST | `/api/v1/auth/send-code` | SendVerificationCode | 否 | 特殊规则* |
| POST | `/api/v1/auth/blacklist/check` | CheckBlacklist | 否 | 10/s (IP) |

> *`/api/v1/auth/send-code` 使用多级限流，详见 F-GW-007

### 验证相关路由

| 方法 | 路径 | gRPC 方法 | 认证 | 限流 |
|------|------|-----------|------|------|
| GET | `/api/v1/security/verification-method` | GetVerificationMethod | 是 | 50/s |
| POST | `/api/v1/security/biometric/enable` | EnableBiometric | 是 | 5/s (User) |
| POST | `/api/v1/security/biometric/disable` | DisableBiometric | 是 | 5/s (User) |
| POST | `/api/v1/security/platform/bind` | BindPlatformAccount | 是 | 5/s (User) |
| POST | `/api/v1/security/platform/unbind` | UnbindPlatformAccount | 是 | 5/s (User) |

### 转账相关路由

| 方法 | 路径 | gRPC 方法 | 认证 | 限流 |
|------|------|-----------|------|------|
| POST | `/api/v1/transfer/internal` | InternalTransfer | 是 | 20/s (User) |

---

## ChainRPC Service 路由

| 方法 | 路径 | gRPC 方法 | 认证 | 限流 |
|------|------|-----------|------|------|
| POST | `/api/v1/chain/address/generate` | GenerateAddress | 是 | 100/s |
| POST | `/api/v1/chain/address/validate` | ValidateAddress | 否 | 200/s |
| POST | `/api/v1/chain/transaction/build/native` | BuildNativeTransfer | 是 | 50/s |
| POST | `/api/v1/chain/transaction/build/token` | BuildTokenTransfer | 是 | 50/s |
| POST | `/api/v1/chain/gas/estimate` | EstimateGas | 是 | 100/s |
| GET | `/api/v1/chain/gas/price` | GetGasPrice | 否 | 200/s |
| POST | `/api/v1/chain/transaction/broadcast` | BroadcastTransaction | 是 | 50/s (User) |
| GET | `/api/v1/chain/balance` | GetBalance | 是 | 100/s |
| GET | `/api/v1/chain/balance/token` | GetTokenBalance | 是 | 100/s |
| GET | `/api/v1/chain/transaction/status` | GetTransactionStatus | 是 | 200/s |
| GET | `/api/v1/chain/block/height` | GetBlockHeight | 否 | 100/s |
| GET | `/api/v1/chain/nonce` | GetNonce | 是 | 100/s |
| GET | `/api/v1/chain/token/info` | GetTokenInfo | 否 | 100/s |
| GET | `/api/v1/chain/health` | HealthCheck | 否 | 50/s |

---

## ChainSync Service 路由

| 方法 | 路径 | gRPC 方法 | 认证 | 限流 |
|------|------|-----------|------|------|
| GET | `/api/v1/sync/status` | GetSyncStatus | 是 | 50/s |
| POST | `/api/v1/sync/start` | StartSync | 是 | 10/s |
| POST | `/api/v1/sync/stop` | StopSync | 是 | 10/s |
| POST | `/api/v1/sync/monitor/add` | AddAddressMonitor | 是 | 50/s |
| POST | `/api/v1/sync/monitor/remove` | RemoveAddressMonitor | 是 | 50/s |
| GET | `/api/v1/sync/monitor/list` | GetMonitoredAddresses | 是 | 50/s |
| GET | `/api/v1/sync/transaction` | GetTransaction | 是 | 100/s |
| GET | `/api/v1/sync/transactions/address` | GetAddressTransactions | 是 | 100/s |
| GET | `/api/v1/sync/balance/address` | GetAddressBalance | 是 | 100/s |
| POST | `/api/v1/sync/balance/multi` | GetMultiAddressBalance | 是 | 50/s |

---

## Admin Service 路由

> 详细接口定义见 [07-admin-service](../07-admin-service/README.md)

### Dashboard 路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/dashboard/statistics` | GetDashboardStatistics | 是 | Admin/Finance | 10/s |
| GET | `/api/v1/admin/dashboard/vault-balances` | GetVaultBalances | 是 | Admin/Finance | 10/s |
| GET | `/api/v1/admin/dashboard/alerts` | GetAlertThresholds | 是 | Admin | 10/s |
| POST | `/api/v1/admin/dashboard/alerts` | SetAlertThreshold | 是 | Admin | 5/s |

### 用户管理路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/users` | AdminListUsers | 是 | Admin | 20/s |
| POST | `/api/v1/admin/users/{uid}/freeze` | AdminFreezeUser | 是 | Admin | 5/s |
| POST | `/api/v1/admin/users/{uid}/unfreeze` | AdminUnfreezeUser | 是 | Admin | 5/s |
| POST | `/api/v1/admin/users/{uid}/terminate` | AdminTerminateUser | 是 | Admin | 5/s |
| PUT | `/api/v1/admin/users/{uid}/role` | AdminUpdateUserRole | 是 | Admin | 5/s |

### 薪资发放路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| POST | `/api/v1/admin/payroll/import` | BatchImportPayroll | 是 | Admin/Finance | 5/s |
| POST | `/api/v1/admin/payroll/{batch_id}/process` | ProcessPayrollBatch | 是 | Admin/Finance | 5/s |
| GET | `/api/v1/admin/payroll/history` | GetPayrollHistory | 是 | Admin/Finance | 20/s |
| GET | `/api/v1/admin/payroll/{batch_id}/export` | ExportPayrollReport | 是 | Admin/Finance | 5/s |

### 提现审批路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/withdraw/pending` | AdminListPendingWithdraws | 是 | Admin/Finance | 20/s |
| POST | `/api/v1/admin/withdraw/{id}/approve` | AdminApproveWithdraw | 是 | Admin/Finance | 10/s |
| POST | `/api/v1/admin/withdraw/{id}/reject` | AdminRejectWithdraw | 是 | Admin/Finance | 10/s |

### Swap 配置路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/swap/config` | GetSwapConfig | 是 | Admin | 10/s |
| PUT | `/api/v1/admin/swap/config` | UpdateSwapConfig | 是 | Admin | 5/s |
| PUT | `/api/v1/admin/swap/providers/{id}` | ManageSwapProvider | 是 | Admin | 5/s |
| POST | `/api/v1/admin/swap/tokens` | ManageSwapTokens | 是 | Admin | 5/s |

### 角色权限路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/roles` | GetRoles | 是 | Admin | 10/s |
| POST | `/api/v1/admin/roles/assign` | AssignRole | 是 | Admin | 5/s |
| GET | `/api/v1/admin/users/{uid}/permissions` | GetUserPermissions | 是 | Admin | 10/s |

### 账本与 Vault 路由

| 方法 | 路径 | gRPC 方法 | 认证 | 角色 | 限流 |
|------|------|-----------|------|------|------|
| GET | `/api/v1/admin/ledger` | GetLedgerRecords | 是 | Admin/Finance | 20/s |
| POST | `/api/v1/admin/ledger/export` | ExportLedger | 是 | Admin/Finance | 5/s |
| POST | `/api/v1/admin/vault/adjust` | AdminAdjustVaultBalance | 是 | Admin | 5/s |
| GET | `/api/v1/admin/vault/adjustments` | GetVaultAdjustmentHistory | 是 | Admin/Finance | 20/s |
| POST | `/api/v1/admin/vault/adjustments/{id}/approve` | ApproveVaultAdjustment | 是 | SuperAdmin | 5/s |

---

> 返回 [API Gateway 目录](./README.md)
