# 统计信息

> 返回 [ChainSync 服务目录](./README.md)

---

## F-SYNC-016: 获取同步统计

**描述**: 获取同步任务的统计信息。

**gRPC 方法**: `GetSyncStats`

**请求 Schema**:
```json
{
  "chain": 1,                           // 可选
  "start_time": 1702200000,             // 统计开始时间
  "end_time": 1702300000                // 统计结束时间
}
```

**响应 Schema**:
```json
{
  "success": true,
  "chain_stats": [
    {
      "chain": 1,
      "total_blocks_synced": 100000,
      "total_transactions_processed": 5000000,
      "total_addresses_monitored": 10000,
      "avg_sync_speed": 100.5,          // 块/秒
      "uptime_seconds": 86400,
      "downtime_seconds": 60,
      "success_rate": 99.9,
      "error_stats": [
        {
          "error_type": "rpc_timeout",
          "count": 10,
          "last_occurrence": "2025-12-10T10:00:00Z",
          "example_error": "connection timeout after 30s"
        }
      ]
    }
  ],
  "total_stats": {...}
}
```

---

## F-SYNC-017: 获取性能指标

**描述**: 获取详细的性能监控指标。

**gRPC 方法**: `GetPerformanceMetrics`

**请求 Schema**:
```json
{
  "chain": 1,
  "metric_type": "latency",             // latency/throughput/errors
  "time_window": 3600                   // 时间窗口（秒）
}
```

**响应 Schema**:
```json
{
  "success": true,
  "metrics": [
    {
      "metric_name": "rpc_latency",
      "current_value": 150.0,
      "avg_value": 120.5,
      "min_value": 50.0,
      "max_value": 500.0,
      "unit": "ms",
      "timestamp": 1702300800,
      "data_points": [
        {
          "timestamp": 1702300000,
          "value": 100.0,
          "label": ""
        }
      ]
    }
  ],
  "generated_at": 1702300800
}
```
