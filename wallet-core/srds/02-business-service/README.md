# 业务服务 (Business Service) - 软件需求文档

## 模块概述

### 用途

业务服务是 Internal-Wallet 系统的核心业务逻辑处理模块，负责用户认证、账户管理、资产操作、充值提现、内部转账、通知管理等核心业务功能。

### 系统架构中的角色

```
API Gateway
     │
     ▼ gRPC
┌─────────────────────────────────────────┐
│          Business Service               │
│  ┌─────────────────────────────────┐    │
│  │         业务逻辑层               │    │
│  │  - 用户认证    - 资产管理        │    │
│  │  - 充值提现    - 内部转账        │    │
│  │  - 安全设置    - 通知中心        │    │
│  └─────────────────────────────────┘    │
│                  │                       │
│                  ▼                       │
│  ┌─────────────────────────────────┐    │
│  │         数据访问层               │    │
│  │   GORM Repository Pattern        │    │
│  └─────────────────────────────────┘    │
└─────────────────────────────────────────┘
     │                        │
     ▼                        ▼
  MariaDB                   Redis
```

### 服务依赖

| 依赖 | 类型 | 用途 |
|------|------|------|
| MariaDB | 数据库 | 用户数据、交易记录 |
| Redis | 缓存 | 会话管理、验证码 |
| ETCD | 服务发现 | 服务注册与发现 |
| ChainRPC | gRPC | 区块链操作 |
| Signer | gRPC | 地址生成 |

---

## 文档目录

| 文档 | 描述 | 功能数量 |
|------|------|----------|
| [01-用户认证.md](./01-用户认证.md) | 登录、登出、验证码、密码管理 | 5 |
| [02-用户信息管理.md](./02-用户信息管理.md) | 用户概览、个人信息 | 3 |
| [03-资产管理.md](./03-资产管理.md) | 资产概览、交易记录、余额变动 | 3 |
| [04-充值功能.md](./04-充值功能.md) | 充值信息、创建充值地址 | 2 |
| [05-提现功能.md](./05-提现功能.md) | 提现信息、创建提现 | 2 |
| [06-内部转账.md](./06-内部转账.md) | 转账信息、创建转账 | 2 |
| [07-安全设置.md](./07-安全设置.md) | 2FA、资金密码、邮箱/手机绑定 | 8 |
| [08-通知中心.md](./08-通知中心.md) | 通知列表、已读、删除 | 6 |
| [09-偏好设置.md](./09-偏好设置.md) | 语言、主题、货币单位 | 2 |
| [10-钱包地址管理.md](./10-钱包地址管理.md) | 提现地址管理 | 2 |
| [11-登录记录.md](./11-登录记录.md) | 登录历史查询 | 1 |
| [99-数据模型与配置.md](./99-数据模型与配置.md) | 数据库表、枚举、配置、安全 | - |

**总功能数**: 36 个 RPC 接口

---

## 快速导航

- 返回 [总目录](../00-目录.md)
- 上一模块: [API 网关](../01-api-gateway.md)
- 下一模块: [ChainRPC 服务](../03-chainrpc-service/)
