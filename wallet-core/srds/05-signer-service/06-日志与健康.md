# 日志与健康检查

> 返回 [Signer 服务目录](./README.md)

---

## F-SIGN-013: 查询签名日志

**描述**: 查询签名操作的审计日志。

**gRPC 方法**: `QuerySignatureLogs`

**请求 Schema**:
```json
{
  "seed_id": "",                          // 可选：筛选种子
  "chain": "",                            // 可选：筛选链
  "operation_type": 0,                    // 可选：筛选操作类型
  "status": 0,                            // 可选：筛选状态
  "start_date": "2025-12-01",
  "end_date": "2025-12-10",
  "page": 1,
  "page_size": 20
}
```

**响应 Schema**:
```json
{
  "code": 0,
  "message": "",
  "total": 1500,
  "page": 1,
  "page_size": 20,
  "records": [
    {
      "request_id": "req_20251210_001",
      "seed_id": "seed_hot_001",
      "chain": "TRN",
      "derivation_path": "m/44'/195'/0'/0/10001",
      "operation_type": 2,
      "amount": "1000000000",
      "status": 2,                        // 1=待处理, 2=成功, 3=失败, 4=拒绝
      "created_at": "2025-12-10T10:00:00Z"
    }
  ]
}
```

**签名状态枚举**:

| 值 | 名称 | 描述 |
|----|------|------|
| 1 | 待处理 | 等待签名 |
| 2 | 成功 | 签名成功 |
| 3 | 失败 | 签名失败 |
| 4 | 拒绝 | 被拒绝 |

---

## F-SIGN-014: 健康检查

**描述**: 检查签名服务的健康状态。

**gRPC 方法**: `HealthCheck`

**请求 Schema**:
```json
{}
```

**响应 Schema**:
```json
{
  "code": 0,
  "message": "",
  "status": "healthy",
  "version": "1.0.0",
  "timestamp": "2025-12-10T10:00:00Z",
  "seeds": {
    "total": 3,
    "active": 2
  },
  "database": {
    "connected": true,
    "ping_ms": 5
  }
}
```
