# 系统设置 - 角色权限管理

> 返回 [系统设置索引](../07-系统设置.md)

---

## F-ADMIN-050: 获取角色列表

**描述**: 获取系统角色及其权限定义。

**HTTP 方法**: `GET /api/v1/admin/roles`

**响应 Schema**:
```json
{
  "success": true,
  "data": {
    "roles": [
      {
        "code": "super_admin",
        "name": "超级管理员",
        "description": "拥有系统所有权限",
        "permissions": ["*"],
        "is_system": true,
        "admin_count": 1
      },
      {
        "code": "admin",
        "name": "系统管理员",
        "description": "管理用户、配置、审批等",
        "permissions": [
          "dashboard.view",
          "user.read", "user.write",
          "withdraw.approve",
          "ledger.read", "ledger.export",
          "swap.config",
          "settings.read", "settings.write",
          "report.read", "report.export"
        ],
        "is_system": true,
        "admin_count": 2
      },
      {
        "code": "finance",
        "name": "财务人员",
        "description": "处理财务相关审批和报表",
        "permissions": [
          "dashboard.view",
          "withdraw.approve",
          "ledger.read", "ledger.export",
          "vault.read", "vault.adjust",
          "transfer.read", "transfer.execute",
          "report.read", "report.export"
        ],
        "is_system": true,
        "admin_count": 2
      }
    ]
  }
}
```

**权限要求**:
- 角色: Admin

---

## F-ADMIN-051: 分配角色

**描述**: 为管理员分配角色。

**HTTP 方法**: `POST /api/v1/admin/roles/assign`

**请求 Schema**:
```json
{
  "admin_id": "admin-10006",
  "role": "admin",
  "reason": "职位调整"
}
```

**响应 Schema**:
```json
{
  "success": true,
  "message": "角色已分配",
  "data": {
    "admin_id": "admin-10006",
    "old_role": "finance",
    "new_role": "admin",
    "assigned_at": "2025-12-10T10:00:00Z",
    "assigned_by": "super_admin@company.com"
  }
}
```

**权限要求**:
- 角色: SuperAdmin

---

## F-ADMIN-052: 获取权限详情

**描述**: 获取指定管理员的详细权限。

**HTTP 方法**: `GET /api/v1/admin/users/{uid}/permissions`

**路径参数**:
- `uid`: 管理员 ID

**响应 Schema**:
```json
{
  "success": true,
  "data": {
    "admin_id": "admin-10002",
    "role": "admin",
    "permissions": {
      "dashboard": {
        "view": true
      },
      "user": {
        "read": true,
        "write": true,
        "freeze": true,
        "terminate": true
      },
      "withdraw": {
        "read": true,
        "approve": true,
        "reject": true
      },
      "ledger": {
        "read": true,
        "export": true
      },
      "vault": {
        "read": true,
        "adjust": false,
        "approve_adjustment": false
      },
      "swap": {
        "read": true,
        "config": true
      },
      "settings": {
        "read": true,
        "write": true,
        "admin_manage": false
      },
      "report": {
        "read": true,
        "export": true
      }
    }
  }
}
```

**权限要求**:
- 角色: Admin

---

> 返回 [系统设置索引](../07-系统设置.md)

