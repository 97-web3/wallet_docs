# Flutter 托管钱包开发计划

## 项目约束
- **总工期**: 25 个工作日
- **日工作量**: 8 小时/天
- **总可用工时**: 200 小时

---

## 第 1 部分：独特的静态页面/屏幕分析


### 模块 1：认证与登录（8 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 1 | 登录页面 | 登录.png | 主登录页面 |
| 2 | 注册登录 | 注册登录.png | 注册/登录入口 |
| 3 | 游客模式 | 游客.png | 游客模式视图 |
| 4 | 已登录用户 | 已登录过用户.png | 已登录用户视图 |
| 5 | 通行密钥 | 通行密钥.png | 通行密钥认证 |
| 6 | 输入状态 | 输入可点.png | 输入状态 - 可点击 |
| 7 | 输入错误 | 输入+错误.png, 输入+错误-1.png | 输入错误状态 |
| 8 | 重新发送 | 重新发送.png | 重新发送验证码 |

### 模块 2：钱包主页与资产（6 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 9 | 钱包主页 | 中心化钱包.png | 主钱包首页 |
| 10 | 钱包主页+通知 | 中心化钱包首页+通知.png | 带通知的钱包首页 |
| 11 | 钱包隐藏余额 | 中心化钱包-隐藏.png | 隐藏余额的钱包 |
| 12 | 切换计价单位 | 中心化钱包-切换单位.png | 货币单位切换器 |
| 13 | 切换下拉 | 切换下啦.png | 账户切换下拉菜单 |
| 14 | 币种详情 | 币种-详情.png | 代币详情页面 |

### 模块 3：交易历史（4 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 15 | 交易记录列表 | 交易记录-列表.png | 交易列表 |
| 16 | 交易详情-充值 | 交易记录-详情-充值.png | 充值交易详情 |
| 17 | 交易详情-提现 | 交易记录-详情2.png | 提现交易详情 |
| 18 | 详情页 | 详情.png | 通用详情页面 |

### 模块 4：充币流程（4 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 19 | 充币选择币种 | 充币选择币种.png | 选择充币代币 |
| 20 | 选择网络 | 选择网络.png | 选择区块链网络 |
| 21 | 充值流程 | 充值流程.png | 充值流程（二维码+地址） |
| 22 | 钱包地址 | 钱包地址.png | 钱包地址显示 |

### 模块 5：提币流程（11 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 23 | 提币选择币种 | 提币-选择币种.png | 选择提币代币 |
| 24 | 选择方式 | 选择方式.png | 选择提现方式 |
| 25 | 内部选择币种 | 内部-选择币种.png | 内部转账 - 选择代币 |
| 26 | 内部提币 | 内部-提币.png | 内部转账表单 |
| 27 | 提币选择网络 | 提币链上-选择网络.png | 链上提现 - 选择网络 |
| 28 | 链上收款方 | 链-收款方.png | 链上收款方输入 |
| 29 | 链上提币详情 | 链上-提币详情.png | 链上提现详情 |
| 30 | 链上提币错误 | 链上-提币详情-错误提示.png | 链上提现错误提示 |
| 31 | 链上确认-1 | 链上-确认.png | 链上确认步骤 1 |
| 32 | 链上确认-2 | 链上-确认-1.png | 链上确认步骤 2 |
| 33 | 提现流程 | 提现流程.png | 提现流程概览 |

### 模块 6：安全验证（7 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 34 | FaceID验证 | feceID验证.png | FaceID 验证提示 |
| 35 | FaceID验证-1 | feceID验证-1.png | FaceID 验证变体 1 |
| 36 | FaceID验证-2 | feceID验证-2.png | FaceID 验证变体 2 |
| 37 | 安全验证 | 安全验证.png | 安全验证 (2FA) |
| 38 | 安全验证-已输入 | 安全验证-1.png | 安全验证已填写 |
| 39 | 安全验证-错误 | 安全验证-错误.png | 安全验证错误 |
| 40 | 验证加载中 | 验证动画-加载.png | 验证加载动画 |

### 模块 7：个人资料与设置（11 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 41 | 我的(个人中心) | 我的.png | 个人资料/设置主页 |
| 42 | 我的-变体 | 我的-1.png | 个人资料页变体 |
| 43 | 个人信息 | 个人信息.png | 个人信息 |
| 44 | 个人中心-切换账户 | 个人中心-切换账户.png | 个人中心 - 切换账户 |
| 45 | 其他账户 | 其他账户.png | 其他账户列表 |
| 46 | 语言设置 | 语言.png | 语言设置 |
| 47 | 计价单位 | 计价单位.png | 货币单位设置 |
| 48 | 帮助中心 | 帮助中心.png | 帮助中心 |
| 49 | 联系支持 | 联系支持.png | 联系客服支持 |
| 50 | 关于我们 | 关于我们.png | 关于我们 |
| 51 | 隐私政策 | 隐私政策.png | 隐私政策 |

### 模块 8：通知（3 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 52 | 通知列表 | 通知.png | 通知列表 |
| 53 | 通知详情 | 通知-详情（富文本）.png | 通知详情（富文本） |
| 54 | 通知空状态 | 通知-空状态.png | 通知空状态 |

### 模块 9：收款方管理（3 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 55 | 编辑收款方 | 编辑收款方.png | 编辑收款方 |
| 56 | 编辑收款方-提示 | 编辑收款方-提示.png | 带提示的编辑收款方 |
| 57 | 通讯录-内部 | 通讯录-内部.png | 地址簿（内部） |

### 模块 10：通用组件与对话框（6 个屏幕）
| # | 屏幕名称 | 设计文件 | 描述 |
|---|-------------|-------------|-------------|
| 58 | 确认弹窗 | 确认.png | 确认对话框 |
| 59 | 成功状态 | 成功b.png | 成功状态 |
| 60 | 提示弹窗 | 提示弹窗.png | 提示弹出框 |
| 61 | 底部弹出查看 | 底部弹出-查看.png | 底部弹窗 - 查看 |
| 62 | 服务条款 | 服务条款.png | 服务条款 |
| 63 | 空状态 | 空状态（待补充）.png | 空状态 |

### 模块 11：Google Authenticator 绑定（3 个屏幕）
> 参考文档: [CW-046 GA绑定需求](../mobile-app/srds/custodial-wallet/46-ga-binding-requirements.md) | [COMMON-002 验证方式规则](../mobile-app/srds/common/verification-method-rules.md)

| # | 屏幕名称 | SRD 参考 | 描述 |
|---|-------------|----------|-------------|
| 64 | GA绑定引导页 | CW-046 | 步骤1：显示TOTP二维码和Base32密钥 |
| 65 | GA验证码输入 | CW-046 | 步骤2：输入6位OTP验证码 |
| 66 | GA绑定成功 | CW-046 | 步骤3：绑定完成确认页 |

**功能要点**：
- TOTP 二维码生成（otpauth:// URI 格式）
- Base32 密钥显示与复制
- 6位OTP验证（RFC 6238）
- 时间窗口容差：前后30秒
- 错误次数限制：连续5次失败锁定15分钟

### 模块 12：平台账户绑定（2 个屏幕）
> 参考文档: [CW-045 平台绑定需求](../mobile-app/srds/custodial-wallet/45-platform-account-binding-requirements.md) | [COMMON-004 钱包切换逻辑](../mobile-app/srds/common/wallet-switch-logic.md)

| # | 屏幕名称 | SRD 参考 | 描述 |
|---|-------------|----------|-------------|
| 67 | 平台绑定主页 | CW-045 | 绑定状态显示/UID输入/扫码绑定 |
| 68 | 平台绑定确认 | CW-045 | 绑定/解绑确认页 |

**功能要点**：
- 1:1 绑定规则（一个UID对应一个钱包地址）
- UID 输入验证（纯数字，6位以上）
- 扫码获取UID
- 绑定/解绑需安全验证
- 双向唯一性校验

### 模块 13：通用功能（3 个屏幕）
> 参考文档: [COMMON-004 钱包切换](../mobile-app/srds/common/wallet-switch-logic.md) | [COMMON-007 推送通知](../mobile-app/srds/common/push-notification-rules.md) | [COMMON-011 国际化](../mobile-app/srds/common/i18n-specifications.md)

| # | 屏幕名称 | SRD 参考 | 描述 |
|---|-------------|----------|-------------|
| 69 | 钱包切换确认 | COMMON-004 | Web2↔Web3钱包切换确认弹窗 |
| 70 | 推送设置页 | COMMON-007 | 通知类型开关配置 |
| 71 | 通知详情增强 | COMMON-007 | 通知深链接跳转处理 |

**功能要点**：
- 钱包类型切换逻辑（Web2↔Web3）
- 推送通知类型：交易、系统、安全
- 深链接跳转配置
- 通知权限管理

---

## 总结：独特屏幕总数

| 模块 | 屏幕数量 |
|--------|-------------|
| 1. 认证与登录 | 8 |
| 2. 钱包主页与资产 | 6 |
| 3. 交易历史 | 4 |
| 4. 充币流程 | 4 |
| 5. 提币流程 | 11 |
| 6. 安全验证 | 7 |
| 7. 个人资料与设置 | 11 |
| 8. 通知 | 3 |
| 9. 收款方管理 | 3 |
| 10. 通用组件 | 6 |
| 11. GA绑定 | 3 |
| 12. 平台账户绑定 | 2 |
| 13. 通用功能 | 3 |
| **总计** | **71** |

---

## 第 2 部分：开发任务分解

### 阶段 1：静态 UI 开发（140 小时）

| 任务 ID | 模块 | 小时数 | 日期范围 |
|---------|--------|-------|-----------|
| P1-01 | 认证与登录 (8 屏) | 14h | 第 1-2 天 |
| P1-02 | 钱包主页与资产 (6 屏) | 10h | 第 2-3 天 |
| P1-03 | 交易历史 (4 屏) | 8h | 第 3-4 天 |
| P1-04 | 充币流程 (4 屏) | 8h | 第 4-5 天 |
| P1-05 | 提币流程 (11 屏) | 20h | 第 5-8 天 |
| P1-06 | 安全验证 (7 屏) | 12h | 第 8-9 天 |
| P1-07 | 个人资料与设置 (11 屏) | 18h | 第 10-12 天 |
| P1-08 | 通知 (3 屏) | 6h | 第 12-13 天 |
| P1-09 | 收款方管理 (3 屏) | 6h | 第 13 天 |
| P1-10 | 通用组件 (6 屏) | 12h | 第 14-15 天 |
| P1-11 | GA绑定 (3 屏) | 8h | 第 15-16 天 |
| P1-12 | 平台账户绑定 (2 屏) | 6h | 第 16-17 天 |
| P1-13 | 通用功能 (3 屏) | 12h | 第 17-18 天 |
| **阶段 1 总计** | | **140h** | **第 1-18 天** |

### 阶段 2：按功能模块的 API 集成（60 小时）

| 任务 ID | 功能模块 | 小时数 | 日期范围 |
|---------|----------------|-------|-----------|
| P2-01 | 认证 API (登录、注册、登出、会话、Google OAuth) | 10h | 第 18-19 天 |
| P2-02 | 钱包与资产 API (余额、代币列表、价格源) | 8h | 第 19-20 天 |
| P2-03 | 交易 API (历史记录、详情、状态) | 6h | 第 20-21 天 |
| P2-04 | 充币 API (地址生成、充币记录) | 4h | 第 21 天 |
| P2-05 | 提币 API (内部转账、链上提现、确认) | 10h | 第 21-23 天 |
| P2-06 | 安全 API (FaceID、资金密码验证) | 6h | 第 23 天 |
| P2-07 | 个人资料与设置 API (用户信息、偏好设置) | 4h | 第 23-24 天 |
| P2-08 | 通知 API (列表、详情、标记已读、推送) | 4h | 第 24 天 |
| P2-09 | GA绑定 API (TOTP密钥生成、OTP验证) | 4h | 第 24-25 天 |
| P2-10 | 平台绑定 API (UID验证、绑定/解绑) | 4h | 第 25 天 |
| **阶段 2 总计** | | **60h** | **第 18-25 天** |

---

## 第 3 部分：详细时间表（25 个工作日）

### 第 1 周 (第 1-5 天)：40 小时
| 日期 | 任务 | 小时数 | 累计 |
|-----|-------|-------|------------|
| 第 1 天 | P1-01：认证屏幕 (1-5) | 8h | 8h |
| 第 2 天 | P1-01：完成 (6-8) + P1-02：钱包主页 (1-3) | 8h | 16h |
| 第 3 天 | P1-02：完成 (4-6) + P1-03：交易历史 (1-2) | 8h | 24h |
| 第 4 天 | P1-03：完成 (3-4) + P1-04：充币流程 (1-3) | 8h | 32h |
| 第 5 天 | P1-04：完成 (4) + P1-05：提币流程 (1-4) | 8h | 40h |

### 第 2 周 (第 6-10 天)：40 小时
| 日期 | 任务 | 小时数 | 累计 |
|-----|-------|-------|------------|
| 第 6 天 | P1-05：提币流程 (5-8) | 8h | 48h |
| 第 7 天 | P1-05：提币流程 (9-11) | 8h | 56h |
| 第 8 天 | P1-05：完成 + P1-06：安全验证 (1-4) | 8h | 64h |
| 第 9 天 | P1-06：完成 (5-7) + P1-07：个人资料 (1-2) | 8h | 72h |
| 第 10 天 | P1-07：个人资料 (3-6) | 8h | 80h |

### 第 3 周 (第 11-15 天)：40 小时
| 日期 | 任务 | 小时数 | 累计 |
|-----|-------|-------|------------|
| 第 11 天 | P1-07：个人资料 (7-10) | 8h | 88h |
| 第 12 天 | P1-07：完成 (11) + P1-08：通知 (1-3) | 8h | 96h |
| 第 13 天 | P1-08：完成 + P1-09：收款方 (1-3) | 8h | 104h |
| 第 14 天 | P1-10：通用组件 (1-4) | 8h | 112h |
| 第 15 天 | P1-10：完成 (5-6) + P1-11：GA绑定 (1-2) | 8h | 120h |

### 第 4 周 (第 16-20 天)：40 小时
| 日期 | 任务 | 小时数 | 累计 |
|-----|-------|-------|------------|
| 第 16 天 | P1-11：GA绑定完成 (3) + P1-12：平台绑定 (1-2) | 8h | 128h |
| 第 17 天 | P1-13：通用功能 (1-3) | 8h | 136h |
| 第 18 天 | P1-13：完成 + P2-01：认证 API (第 1 部分) | 8h | 144h |
| 第 19 天 | P2-01：完成 + P2-02：钱包 API | 8h | 152h |
| 第 20 天 | P2-02：完成 + P2-03：交易 API | 8h | 160h |

### 第 5 周 (第 21-25 天)：40 小时
| 日期 | 任务 | 小时数 | 累计 |
|-----|-------|-------|------------|
| 第 21 天 | P2-03：完成 + P2-04：充币 API + P2-05：提币 API (第 1 部分) | 8h | 168h |
| 第 22 天 | P2-05：提币 API (第 2 部分) | 8h | 176h |
| 第 23 天 | P2-05：完成 + P2-06：安全 API + P2-07：个人资料 API | 8h | 184h |
| 第 24 天 | P2-07：完成 + P2-08：通知 API + P2-09：GA绑定 API | 8h | 192h |
| 第 25 天 | P2-09：完成 + P2-10：平台绑定 API + 缓冲/测试 | 8h | 200h |

---

## 总结

| 阶段 | 小时数 | 天数 |
|-------|-------|------|
| 阶段 1：静态 UI | 140h | 第 1-18 天 |
| 阶段 2：API 集成 | 60h | 第 18-25 天 |
| **总计** | **200h** | **25 天** |

### 关键里程碑
- **第 5 天**: 认证 + 钱包主页 + 交易历史 + 充币完成
- **第 8 天**: 提币流程 + 安全验证完成
- **第 13 天**: 个人资料/设置 + 通知 + 收款方完成
- **第 16 天**: GA绑定 + 平台绑定完成
- **第 18 天**: 所有静态 UI 完成 ✓
- **第 20 天**: 认证 API（含Google OAuth）+ 钱包 API 完成
- **第 25 天**: 所有 API 集成完成，可交付 ✓
