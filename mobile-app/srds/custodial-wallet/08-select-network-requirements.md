# 选择网络页面 - 软件需求规格说明书

## 1. 页面标识

| 属性 | 值 |
|------|-----|
| 页面ID | CW-008 |
| 页面名称 | 选择网络页面 |
| 版本 | 1.2 |
| 更新日期 | 2025-12-08 |
| 状态 | 草稿 |

### 功能描述
用户选择充值使用的区块链网络，显示每个网络的到账时间和最小充币金额。

> 相关规格: [COMMON-003 区块链网络规格](../common/blockchain-networks.md)

### V1.0 支持的网络
| 网络 | 代币标准 | 说明 |
|------|----------|------|
| **TRX (Tron)** | TRC-20 | 推荐，手续费低 |
| **BNB (BSC)** | BEP-20 | BNB Smart Chain |
| **ETH (Ethereum)** | ERC-20 | 以太坊主网 |

---

## 2. UI组件

### 2.1 组件详情

| 组件 | 类型 | 描述 | 位置 |
|------|------|------|------|
| 返回按钮 | 图标按钮 | 左箭头 | 左上角 |
| 页面标题 | 文本标签 | "选择网络" | 标题栏中央 |
| 重要提示卡片 | 警告卡片 | 带警告图标，深色背景 | 上部区域 |
| 提示文字 | 文本标签 | "请确保提币地址支持选择的网络，选择错误的网络可能导致资产丢失。" | 提示卡片内 |
| 列表标题行 | 表头 | "选择网络"和"到账时间/最小充币金额" | 中部 |
| 网络列表 | 滚动列表 | 显示所有支持的网络选项 | 主体区域 |
| 网络列表项 | 列表项 | 包含网络图标、名称、协议、到账时间、最小金额 | 列表内 |

### 2.2 网络列表项组件

| 组件 | 类型 | 描述 |
|------|------|------|
| 网络图标 | 图片 | 圆形网络Logo |
| 网络名称 | 文本标签 | 如"TRon" |
| 协议标签 | 文本标签 | 如"TRC20"灰色小字 |
| 推荐标签 | 胶囊标签 | "推荐"绿色标签（仅显示在推荐网络上） |
| 到账时间 | 文本标签 | 如"约1分钟"右对齐 |
| 最小金额 | 文本标签 | 如"0.01 USD"灰色小字右对齐 |

---

## 3. 功能需求

### FR-CW-008-01: 网络列表展示

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-01 |
| **描述** | 显示该币种支持的充值网络（V1.0 仅支持 TRX/BNB/ETH） |
| **验收标准** | 1. **假设** 进入页面, **当** 加载完成, **则** 显示 TRX、BNB、ETH 三个网络选项<br>2. **假设** 每个网络项, **当** 显示, **则** 包含网络名称、协议、到账时间、最小充币金额<br>3. **假设** 网络列表, **当** 排序, **则** TRX 排在首位并显示"推荐"标签 |
| **优先级** | 必须 |

### FR-CW-008-02: 重要提示

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-02 |
| **描述** | 在页面顶部显示重要安全提示 |
| **验收标准** | 1. **假设** 进入页面, **当** 加载, **则** 在顶部显示警告卡片<br>2. **假设** 显示提示, **当** 渲染, **则** 使用警告图标和深色背景突出显示 |
| **优先级** | 必须 |

### FR-CW-008-03: 选择网络

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-03 |
| **描述** | 用户选择网络后进入充值详情页 |
| **验收标准** | 1. **假设** 用户点击某个网络, **当** 触发点击, **则** 跳转到充值详情页面（显示充值地址和二维码）<br>2. **假设** 跳转时, **当** 传递参数, **则** 带上选择的币种和网络信息 |
| **优先级** | 必须 |

### FR-CW-008-04: 网络推荐标识

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-04 |
| **描述** | 系统为用户推荐最优网络 |
| **验收标准** | 1. **假设** 显示网络列表，**当** 渲染，**则** 在推荐网络旁显示绿色"推荐"标签<br>2. **假设** 确定推荐网络，**当** 系统判断，**则** 基于到账时间最快和费用最低的组合推荐<br>3. **假设** 推荐网络，**当** 列表排序，**则** 推荐网络排在列表首位 |
| **优先级** | 应该 |

### FR-CW-008-05: 网络对比说明

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-05 |
| **描述** | 帮助用户理解不同网络的区别 |
| **验收标准** | 1. **假设** 用户需要了解网络区别，**当** 点击"什么是网络？"帮助链接，**则** 显示网络说明弹窗<br>2. **假设** 说明弹窗显示，**当** 渲染，**则** 用通俗语言解释不同网络的特点和适用场景<br>3. **假设** 用户初次使用，**当** 首次进入页面，**则** 自动显示简短的网络选择提示 |
| **优先级** | 应该 |

### FR-CW-008-06: 网络拥堵状态显示

| 字段 | 内容 |
|------|------|
| **ID** | FR-CW-008-06 |
| **描述** | 实时显示网络拥堵状态，帮助用户做出选择 |
| **验收标准** | 1. **假设** 网络拥堵，**当** 显示该网络，**则** 显示橙色"拥堵"标签<br>2. **假设** 网络严重拥堵，**当** 显示该网络，**则** 显示红色"严重拥堵"标签并附带预估延迟时间<br>3. **假设** 用户选择拥堵网络，**当** 触发点击，**则** 显示确认弹窗提示可能延迟 |
| **优先级** | 应该 |

---

## 4. 用户交互

### 4.1 用户工作流
1. 用户从选择币种页面选择了某个币种
2. 进入选择网络页面
3. 查看重要提示和各网络的参数
4. 选择合适的网络
5. 进入充值详情页查看地址

### 4.2 导航流程
- 选择币种页面 → 选择网络页面
- 选择网络页面 → 充值详情页面

---

## 5. 数据需求

### 5.1 显示数据结构

```json
{
  "coinId": "USDT",
  "networks": [
    {
      "networkId": "TRC20",
      "networkName": "TRon",
      "protocol": "TRC20",
      "icon": "https://...",
      "arrivalTime": "约1分钟",
      "minAmount": "0.01",
      "currency": "USD"
    }
  ]
}
```

---

## 6. 验证规则

- 到账时间显示格式：约X分钟
- 最小金额格式：数字 + 币种单位

---

## 7. 验收标准汇总

1. ✅ 网络列表完整显示
2. ✅ 每个网络信息准确（名称、协议、时间、金额）
3. ✅ 重要提示清晰显示
4. ✅ 点击网络正确跳转
5. ✅ UI符合设计稿
6. ✅ **推荐网络显示绿色"推荐"标签**
7. ✅ **推荐网络排在列表首位**
8. ✅ **提供"什么是网络？"帮助入口**
9. ✅ **网络拥堵时显示拥堵状态标签**
10. ✅ **选择拥堵网络时显示延迟确认弹窗**

---

## 8. 无障碍访问要求

- [ ] 所有文本颜色对比度符合WCAG 2.1 AA标准（最低4.5:1）
- [ ] 按钮和可交互元素最小触摸目标为44x44pt
- [ ] 支持屏幕阅读器，所有UI元素有适当的无障碍标签
- [ ] 网络列表项有明确的role="listitem"标记
- [ ] 推荐标签和拥堵状态标签通过VoiceOver朗读
- [ ] 警告提示卡片使用role="alert"标记
- [ ] 网络选择变化通过无障碍公告通知用户
- [ ] 支持键盘导航（适用于平板/桌面设备）
