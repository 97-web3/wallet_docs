# 安全验证(已输入) - 软件需求规格说明书

## 1. 页面标识

| 属性 | 值 |
|------|-----|
| 页面ID | CW-027 |
| 页面名称 | 安全验证(已输入) |
| 版本 | 1.0 |
| 更新日期 | 2025-12-08 |
| 状态 | 草稿 |

### 功能描述
安全验证已输入状态页面显示用户已完整输入6位验证码的状态。所有输入框都已填充，确认按钮变为可点击的激活状态，等待用户提交验证。

---

## 2. UI组件

### 2.1 布局概述
页面延续2FA验证界面布局，6个验证码输入框全部显示已输入的数字，确认按钮从灰色禁用状态变为绿色可点击状态。

### 2.2 组件详情

| 组件 | 类型 | 描述 | 位置 |
|------|------|------|------|
| 拖动指示条 | 视图 | 灰色横条 | 弹窗顶部 |
| 页面标题 | 标签 | "安全验证" | 拖动条下方 |
| 关闭按钮 | 图标按钮 | X图标 | 标题右侧 |
| 验证器图标 | 图片 | Google Authenticator图标 | 内容区顶部 |
| 说明文字 | 标签 | "请输入Google Authenticator验证码" | 图标下方 |
| 验证码输入框 | 输入组 | 6个输入框，全部已填充数字 | 说明下方 |
| 确认按钮 | 主按钮 | 绿色圆角按钮，"确认"（激活状态） | 底部 |

---

## 3. 功能需求

### FR-027-01: 显示已输入状态

| 字段 | 内容 |
|------|------|
| **ID** | FR-027-01 |
| **描述** | 当用户输入完6位验证码时，界面应显示完整输入状态 |
| **验收标准** | 1. **假设** 用户输入第6位数字，**当** 输入完成，**则** 所有输入框显示对应数字<br>2. **假设** 全部填充完成，**当** 用户查看，**则** 输入框样式表明已完成输入 |
| **优先级** | 必须 |

### FR-027-02: 激活确认按钮

| 字段 | 内容 |
|------|------|
| **ID** | FR-027-02 |
| **描述** | 输入完6位验证码后，确认按钮应变为可点击状态 |
| **验收标准** | 1. **假设** 验证码输入不完整，**当** 查看按钮，**则** 确认按钮为灰色禁用状态<br>2. **假设** 验证码输入完整，**当** 第6位输入完成，**则** 确认按钮变为绿色激活状态 |
| **优先级** | 必须 |

### FR-027-03: 允许修改输入

| 字段 | 内容 |
|------|------|
| **ID** | FR-027-03 |
| **描述** | 用户可以修改已输入的验证码 |
| **验收标准** | 1. **假设** 已输入完6位，**当** 用户点击某个输入框，**则** 可以修改该位数字<br>2. **假设** 用户按退格键，**当** 删除数字，**则** 光标移回上一位并清除该位 |
| **优先级** | 必须 |

### FR-027-04: 提交前状态保持

| 字段 | 内容 |
|------|------|
| **ID** | FR-027-04 |
| **描述** | 在用户点击确认前，已输入的验证码应保持显示 |
| **验收标准** | 1. **假设** 用户输入完验证码，**当** 未点击确认，**则** 验证码保持显示在输入框中<br>2. **假设** 用户收起键盘，**当** 重新查看页面，**则** 已输入内容不丢失 |
| **优先级** | 必须 |

---

## 4. 用户交互

### 4.1 用户工作流
1. 用户完成6位验证码输入
2. 界面显示已填充状态
3. 确认按钮变为激活状态
4. 用户检查输入是否正确
5. 用户点击确认提交

### 4.2 导航流程
- **来源状态**: 验证码输入进行中
- **目标状态**:
  - 点击确认: 进入验证中状态
  - 修改输入: 返回输入状态
  - 关闭弹窗: 取消验证

### 4.3 手势与交互
| 手势 | 行为 |
|------|------|
| 点击输入框 | 选中该位进行修改 |
| 退格键 | 删除当前位并后退 |
| 点击确认 | 提交验证码 |

---

## 5. 数据需求

### 5.1 显示数据
| 数据字段 | 类型 | 来源 | 格式 |
|----------|------|------|------|
| 已输入验证码 | String | 用户输入 | 6位数字，每位单独显示 |
| 按钮状态 | Boolean | 输入状态 | 激活/禁用 |

### 5.2 输入数据
| 输入字段 | 类型 | 验证规则 | 必填 |
|----------|------|----------|------|
| 验证码(完整) | String | 6位纯数字 | 是 |

---

## 6. 验证规则

### 6.1 按钮状态规则
- 输入少于6位: 确认按钮禁用
- 输入满6位: 确认按钮激活

### 6.2 输入框样式
- 已填充输入框显示数字
- 当前编辑框显示光标
- 可选：已填充框显示不同背景色

---

## 7. 技术考虑

### 7.1 状态管理
- 实时追踪输入位数
- 根据输入完整性更新按钮状态

### 7.2 输入体验
- 支持从任意位置修改
- 键盘保持弹出状态
- 退格键支持连续删除

---

## 8. 验收标准汇总

- [ ] 输入完6位后所有输入框显示数字
- [ ] 确认按钮从禁用变为激活状态
- [ ] 激活状态按钮显示绿色
- [ ] 可以点击修改任意位
- [ ] 退格键正确删除和后退
- [ ] 输入内容不会意外丢失
