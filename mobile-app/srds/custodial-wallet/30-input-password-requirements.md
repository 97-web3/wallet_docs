# 输入密码登录 - 软件需求规格说明书

## 1. 页面标识

| 属性 | 值 |
|------|-----|
| 页面ID | CW-030 |
| 页面名称 | 输入密码登录 |
| 版本 | 1.0 |
| 更新日期 | 2025-12-08 |
| 状态 | 草稿 |

### 功能描述
输入密码登录页面是用户通过手机号和密码进行身份验证的主要登录入口。页面提供手机号输入框和密码输入框，支持记住登录状态和忘记密码功能。

---

## 2. UI组件

### 2.1 布局概述
页面采用垂直表单布局，深色背景主题。顶部显示应用Logo或返回按钮，中间是登录表单区域，包含手机号和密码输入框，底部有登录按钮和辅助链接。

### 2.2 组件详情

| 组件 | 类型 | 描述 | 位置 |
|------|------|------|------|
| 返回按钮 | 图标按钮 | 左箭头，返回上一页 | 顶部左侧 |
| 页面标题 | 标签 | "登录"或应用Logo | 顶部中央 |
| 手机号输入框 | 文本输入 | 带国际区号选择，显示手机图标 | 表单区域上部 |
| 国际区号选择 | 下拉/选择器 | 显示当前区号如"+86" | 手机号输入框内左侧 |
| 密码输入框 | 密码输入 | 带锁图标，支持显示/隐藏切换 | 手机号下方 |
| 显示密码按钮 | 图标按钮 | 眼睛图标，切换密码可见性 | 密码框右侧 |
| 忘记密码链接 | 文字链接 | "忘记密码？" | 密码框下方右侧 |
| 登录按钮 | 主按钮 | 绿色圆角按钮，"登录" | 表单底部 |
| 注册链接 | 文字链接 | "还没有账号？立即注册" | 页面底部 |

---

## 3. 功能需求

### FR-030-01: 输入手机号

| 字段 | 内容 |
|------|------|
| **ID** | FR-030-01 |
| **描述** | 用户可以输入手机号码进行登录 |
| **验收标准** | 1. **假设** 用户点击手机号输入框，**当** 开始输入，**则** 弹出数字键盘<br>2. **假设** 用户选择国际区号，**当** 点击区号选择，**则** 显示区号列表供选择<br>3. **假设** 用户输入手机号，**当** 输入完成，**则** 显示完整手机号 |
| **优先级** | 必须 |

### FR-030-02: 输入密码

| 字段 | 内容 |
|------|------|
| **ID** | FR-030-02 |
| **描述** | 用户可以输入密码进行身份验证 |
| **验收标准** | 1. **假设** 用户点击密码输入框，**当** 开始输入，**则** 弹出字母数字键盘<br>2. **假设** 用户输入密码，**当** 输入进行，**则** 显示圆点掩码<br>3. **假设** 用户点击显示密码，**当** 图标被点击，**则** 显示明文密码 |
| **优先级** | 必须 |

### FR-030-03: 登录提交

| 字段 | 内容 |
|------|------|
| **ID** | FR-030-03 |
| **描述** | 用户点击登录按钮后，系统验证凭据并登录 |
| **验收标准** | 1. **假设** 用户填写完手机号和密码，**当** 点击登录按钮，**则** 系统提交登录请求<br>2. **假设** 凭据正确，**当** 服务器验证通过，**则** 跳转到钱包主页<br>3. **假设** 凭据错误，**当** 服务器拒绝，**则** 显示错误提示 |
| **优先级** | 必须 |

### FR-030-04: 忘记密码

| 字段 | 内容 |
|------|------|
| **ID** | FR-030-04 |
| **描述** | 用户可以通过忘记密码链接进入密码重置流程 |
| **验收标准** | 1. **假设** 用户忘记密码，**当** 点击"忘记密码"链接，**则** 跳转到密码重置页面<br>2. **假设** 进入重置流程，**当** 用户验证身份，**则** 可以设置新密码 |
| **优先级** | 应该 |

### FR-030-05: 跳转注册

| 字段 | 内容 |
|------|------|
| **ID** | FR-030-05 |
| **描述** | 新用户可以跳转到注册页面 |
| **验收标准** | 1. **假设** 用户没有账号，**当** 点击"立即注册"链接，**则** 跳转到注册页面 |
| **优先级** | 应该 |

---

## 4. 用户交互

### 4.1 用户工作流
1. 用户进入登录页面
2. 选择国际区号（如需要）
3. 输入手机号码
4. 输入登录密码
5. 点击登录按钮
6. 等待验证结果
7. 成功则进入主页，失败则显示错误

### 4.2 导航流程
- **来源页面**: 启动页、注册完成页、登出后
- **目标页面**:
  - 登录成功: 钱包主页
  - 忘记密码: 密码重置页面
  - 立即注册: 注册页面
  - 返回: 上一页面

### 4.3 手势与交互
| 手势 | 行为 |
|------|------|
| 点击输入框 | 激活输入，弹出键盘 |
| 点击区号选择 | 显示区号列表 |
| 点击眼睛图标 | 切换密码显示/隐藏 |
| 点击登录按钮 | 提交登录请求 |
| 点击忘记密码 | 跳转密码重置 |
| 点击立即注册 | 跳转注册页面 |

---

## 5. 数据需求

### 5.1 显示数据
| 数据字段 | 类型 | 来源 | 格式 |
|----------|------|------|------|
| 国际区号列表 | Array | 系统配置 | +86, +1, +852等 |
| 默认区号 | String | 系统配置/IP定位 | +86 |

### 5.2 输入数据
| 输入字段 | 类型 | 验证规则 | 必填 |
|----------|------|----------|------|
| 国际区号 | String | 有效区号格式 | 是 |
| 手机号 | String | 符合所选区号的手机号格式 | 是 |
| 密码 | String | 6-20位，包含字母和数字 | 是 |

---

## 6. 验证规则

### 6.1 输入验证
- 手机号：根据国际区号验证格式
- 密码：不为空，长度6-20位

### 6.2 登录验证
- 验证手机号和密码组合
- 检查账号状态（是否被锁定）
- 验证设备信息（可选）

### 6.3 错误处理
| 错误场景 | 处理方式 |
|----------|----------|
| 手机号格式错误 | 显示"请输入正确的手机号" |
| 密码错误 | 显示"手机号或密码错误" |
| 账号不存在 | 显示"手机号或密码错误"（安全考虑） |
| 账号被锁定 | 显示"账号已被锁定，请联系客服" |
| 网络错误 | 显示"网络错误，请重试" |

---

## 7. 技术考虑

### 7.1 安全要求
- 密码传输使用HTTPS加密
- 登录失败次数限制
- 支持设备绑定和异常登录检测

### 7.2 会话管理
- 登录成功后存储会话Token
- 支持自动登录（记住登录状态）
- Token过期处理

### 7.3 键盘适配
- 页面布局适应键盘弹出
- 确保登录按钮在键盘上方可见

---

## 8. 验收标准汇总

- [ ] 可以选择国际区号
- [ ] 手机号输入框正常工作
- [ ] 密码输入框显示掩码
- [ ] 可以切换密码显示/隐藏
- [ ] 登录按钮正确提交请求
- [ ] 登录成功跳转到主页
- [ ] 登录失败显示错误提示
- [ ] 忘记密码链接正常跳转
- [ ] 注册链接正常跳转
- [ ] 表单验证正常工作
