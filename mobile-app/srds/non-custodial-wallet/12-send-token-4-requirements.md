# 发送代币_4(发送成功) - 软件需求规格说明书

## 1. 页面标识
- **页面名称**: 发送代币-发送成功页
- **页面ID**: SEND_SUCCESS_001
- **页面描述/用途**: 显示交易已成功提交到区块链网络,提供交易详情和后续操作选项

## 2. UI组件
### 2.1 布局概述
页面采用垂直居中布局,深色网格背景。中央显示成功图标和提示信息,下方显示交易区块链链接和操作按钮。

### 2.2 组件详情
| 组件名称 | 组件类型 | 位置 | 描述 |
|---------|---------|------|------|
| 状态栏 | 系统组件 | 顶部 | 显示时间(9:41)、信号、WiFi和电池状态 |
| 跳过按钮 | 文本按钮 | 右上角 | "跳过3"文字按钮,可能是引导流程计数 |
| 网格背景 | 背景装饰 | 全屏 | 深色网格线背景 |
| 成功图标 | 图标 | 中心 | 亮绿色徽章图标带勾选标记 |
| 成功标题 | 标题文本 | 图标下方 | "恭喜,发送成功!" |
| 成功描述 | 文本标签 | 标题下方 | "添加资金以开始使用" |
| 底部卡片 | 容器 | 底部 | 深色背景圆角卡片 |
| 返回主页按钮 | 主要按钮 | 卡片内 | 亮绿色大按钮,"返回主页" |
| 区块链链接 | 链接按钮 | 卡片底部 | Tron图标+"从可引用的Ethereum充值" |
| Tron图标 | 图标 | 链接左侧 | 红色Tron logo |

## 3. 功能需求
### 3.1 主要功能
- 显示交易成功提示
- 提供返回主页操作
- 显示区块链浏览器链接(查看交易详情)
- 可能显示引导提示(跳过按钮)
- 记录交易到本地历史

### 3.2 业务逻辑
- 交易广播成功:交易已提交到网络
- 等待确认:交易在区块链上待确认
- 交易哈希生成:获得交易ID
- 历史记录更新:将交易添加到历史列表
- 余额待更新:交易确认后余额将更新

## 4. 用户交互
### 4.1 用户操作
| 操作 | 触发条件 | 响应 |
|-----|---------|------|
| 点击跳过按钮 | 单击 | 跳过引导流程(如适用) |
| 点击返回主页按钮 | 单击 | 返回钱包主页 |
| 点击区块链链接 | 单击 | 在浏览器中打开交易详情页(区块链浏览器) |
| 自动跳转 | 倒计时结束 | 自动返回主页(可选) |

### 4.2 导航流程
- 交易确认页 → 交易广播 → 此页面(成功提示)
- 成功页 → 返回主页
- 成功页 → 区块链浏览器(外部链接)

### 4.3 手势操作
- 单击:触发操作
- 下拉:可能刷新交易状态(可选)

## 5. 数据需求
### 5.1 数据展示
| 数据字段 | 数据类型 | 描述 |
|---------|---------|------|
| 交易哈希 | String | 区块链交易ID |
| 交易状态 | Enum | completed/pending/failed |
| 区块链浏览器URL | URL | 交易详情链接 |
| 区块链名称 | String | 网络名称(如Ethereum) |
| 引导进度 | Integer | 引导流程剩余步骤(如"跳过3") |

### 5.2 数据输入
无直接输入

### 5.3 数据来源
- 交易广播结果:区块链节点返回的交易哈希
- 区块链配置:浏览器URL模板
- 本地配置:引导流程设置

## 6. 验证规则
### 6.1 输入验证
无用户输入

### 6.2 错误处理
- 链接打开失败:提示"无法打开浏览器"
- 交易哈希缺失:隐藏区块链链接
- 网络切换:确保浏览器链接指向正确的网络

## 7. 技术考量
### 7.1 状态管理
- 交易哈希状态
- 成功页显示状态
- 引导流程状态
- 跳转倒计时状态(可选)

### 7.2 API集成
- 无需额外API
- 可选:轮询交易状态(检查确认数)
- 区块链浏览器:Etherscan、BscScan等

### 7.3 安全考量
- 交易哈希验证:确保是有效的哈希格式
- 浏览器链接验证:防止恶意链接
- 确保链接指向官方区块链浏览器

## 8. 区块链浏览器集成
### 8.1 支持的浏览器
- Ethereum: Etherscan.io
- BSC: BscScan.com
- Polygon: PolygonScan.com
- Solana: Solscan.io或Explorer.solana.com
- Bitcoin: Blockchain.com、Blockchair.com

### 8.2 URL格式
```
Ethereum: https://etherscan.io/tx/{txHash}
BSC: https://bscscan.com/tx/{txHash}
Polygon: https://polygonscan.com/tx/{txHash}
Solana: https://solscan.io/tx/{txHash}
Bitcoin: https://blockchain.com/btc/tx/{txHash}
```

### 8.3 网络识别
- Mainnet:官方浏览器
- Testnet:测试网浏览器
- 自动根据当前网络选择对应浏览器

## 9. 交易状态跟踪
### 9.1 状态更新
- Pending:已广播,等待确认
- Confirmed:已确认(1+ confirmations)
- Failed:交易失败
- 可选:实时显示确认数

### 9.2 通知机制
- 推送通知:交易确认后通知用户
- 应用内通知:返回应用时显示状态
- 交易列表更新:自动更新历史记录状态

## 10. 用户体验优化
### 10.1 成功反馈
- 动画效果:成功图标弹出动画
- 触觉反馈:成功震动(可选)
- 视觉反馈:亮绿色强调成功状态

### 10.2 后续引导
- 首次交易:可能显示教育性提示
- 添加资金提示:如余额较低
- 引导查看交易详情

## 11. 验收标准
- [ ] 成功页正确显示
- [ ] 成功图标和文字清晰
- [ ] 返回主页按钮功能正常
- [ ] 区块链链接可点击
- [ ] 点击链接打开正确的交易详情页
- [ ] 链接指向正确的区块链网络
- [ ] 交易哈希正确显示(如显示)
- [ ] 跳过按钮功能正常(如适用)
- [ ] 成功动画流畅
- [ ] 返回主页后交易记录已更新
- [ ] 返回主页后余额正在更新或已更新
- [ ] 网格背景正确渲染
- [ ] 在不同屏幕尺寸下正常显示
- [ ] 暗黑主题样式正确
- [ ] 所有文字清晰可读
- [ ] 链接图标正确显示
