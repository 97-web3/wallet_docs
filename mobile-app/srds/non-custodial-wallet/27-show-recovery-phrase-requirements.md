# 显示恢复短语页（安全确认）- 软件需求规格说明书

## 1. 页面标识
- **页面名称**: 显示恢复短语页（安全确认）
- **页面ID**: show-recovery-phrase
- **页面描述/用途**: 在显示恢复短语之前，向用户展示安全警告和风险提示，确保用户理解查看恢复短语的安全含义，需要用户确认后才能继续

## 2. UI组件
### 2.1 布局概述
页面采用垂直居中布局，顶部为返回按钮和标题，中间为安全图标、标题、安全警告列表，底部为确认复选框和继续按钮。

### 2.2 组件详情
| 组件名称 | 组件类型 | 位置 | 描述 |
|---------|---------|------|------|
| 返回按钮 | 按钮（图标） | 顶部左侧 | 返回上一页面 |
| 页面标题 | 文本标签 | 顶部中央 | "显示恢复短语" |
| 安全盾牌图标 | 图标 | 中上部 | 红色/粉色盾牌图标带对勾 |
| 主标题 | 文本标签（大号） | 图标下方 | "将您的恢复短语保密" |
| 警告列表 | 列表视图 | 主标题下方 | 三条带图标的警告信息 |
| 警告项1 | 列表项 | 警告列表内 | 钥匙图标+"您的密钥恢复短语与您钱包的主密钥很像。" |
| 警告项2 | 列表项 | 警告列表内 | 禁止图标+"如果有人得到，他们可能会窃取您的资金。" |
| 警告项3 | 列表项 | 警告列表内 | 感叹号图标+"切勿与任何人分享，包括个人、网站或应用。" |
| 确认复选框 | 复选框 | 底部上方 | 用户同意声明（未勾选状态） |
| 确认文字 | 文本标签 | 复选框右侧 | "我明白，分享我的恢复短语可能会导致资金永久丢失。" |
| 继续按钮 | 主要操作按钮 | 底部 | 荧光绿色背景，"继续"。**初始状态禁用，需勾选确认并通过身份验证后才可用** |

## 3. 功能需求
### 3.1 主要功能
- 展示恢复短语的安全风险警告
- 要求用户确认理解风险
- 验证用户勾选确认后才能继续
- 提供返回选项

### 3.2 业务逻辑
1. **页面展示**：
   - 显示安全警告信息
   - 确认复选框默认未勾选
   - 继续按钮可能默认禁用

2. **警告内容**：
   - 解释恢复短语的重要性
   - 警告泄露的后果
   - 强调不要分享

3. **确认流程**（必须实现增强验证）：
   - 用户勾选确认复选框
   - **必须**通过身份验证（FaceID/TouchID/密码）
   - 身份验证通过后继续按钮激活
   - 点击继续跳转到恢复短语显示页

4. **额外安全摩擦**（必须实现）：
   - 单纯勾选复选框不足以继续，必须额外进行生物识别或密码验证
   - 此设计防止未授权访问敏感信息（如他人拿到未锁定的手机）

## 4. 用户交互
### 4.1 用户操作
| 操作 | 触发条件 | 响应 |
|-----|---------|------|
| 点击返回按钮 | 用户点击左上角返回图标 | 返回到上一页面 |
| 勾选确认复选框 | 用户点击复选框 | 切换勾选状态，触发身份验证 |
| 身份验证 | 勾选复选框后自动触发 | 弹出FaceID/TouchID/密码验证界面 |
| 身份验证成功 | 用户通过验证 | 激活继续按钮 |
| 身份验证失败 | 用户验证失败 | 显示错误提示，复选框恢复未勾选状态，允许重试 |
| 点击继续按钮 | 用户勾选确认且通过身份验证后点击继续 | 导航到恢复短语显示页 |

### 4.2 导航流程
```
显示恢复短语页 → 点击返回 → 上一页面（设置/管理资料）
显示恢复短语页 → 勾选确认+点击继续 → 显示恢复短语页1（明文）
```

### 4.3 手势操作
- 支持垂直滚动查看完整内容
- 支持系统返回手势

## 5. 数据需求
### 5.1 数据展示
| 数据字段 | 数据类型 | 描述 |
|---------|---------|------|
| 页面标题 | 字符串 | "显示恢复短语" |
| 主标题 | 字符串 | "将您的恢复短语保密" |
| 警告列表 | 字符串数组 | 三条警告信息 |
| 确认文字 | 字符串 | 确认声明文本 |
| 按钮文字 | 字符串 | "继续" |

### 5.2 数据输入
- 用户确认状态（布尔值）

### 5.3 数据来源
- 页面文案：本地化资源文件
- 图标资源：应用资源文件

## 6. 验证规则
### 6.1 输入验证
- 必须勾选确认复选框才能继续

### 6.2 错误处理
| 错误场景 | 错误信息 | 处理方式 |
|---------|---------|---------|
| 未勾选确认 | 禁用继续按钮 | 按钮置灰不可点击 |
| 身份验证失败 | "验证失败，请重试" | 显示提示，复选框恢复未勾选状态 |
| 身份验证取消 | 无 | 复选框恢复未勾选状态 |
| 导航失败 | "操作失败，请重试" | 显示提示 |

## 7. 技术考量
### 7.1 状态管理
- 确认复选框状态
- 身份验证状态
- 继续按钮启用状态

### 7.2 API集成
- 用户行为统计
- **生物识别/密码验证API**：调用系统LocalAuthentication框架

### 7.3 安全考量
- 强制用户阅读警告
- 确保用户理解风险
- 记录用户确认操作
- **必须进行身份验证**：勾选复选框后必须通过FaceID/TouchID/密码验证才能继续
- **防止未授权访问**：即使设备未锁定，也需要验证才能查看恢复短语

## 8. 验收标准
- [ ] 页面布局符合设计稿
- [ ] 安全图标正确显示
- [ ] 三条警告信息完整显示
- [ ] 确认复选框默认未勾选
- [ ] 未勾选时继续按钮禁用
- [ ] **勾选复选框后触发身份验证**
- [ ] **身份验证成功后继续按钮可用**
- [ ] **身份验证失败后复选框恢复未勾选状态**
- [ ] 点击继续正确导航
- [ ] 返回按钮功能正常
- [ ] 所有文字清晰易读

## 9. 无障碍访问要求
- [ ] 所有文本颜色对比度符合WCAG 2.1 AA标准（最低4.5:1）
- [ ] 按钮和可交互元素最小触摸目标为44x44pt
- [ ] 支持屏幕阅读器，所有UI元素有适当的无障碍标签
- [ ] 身份验证结果需通过无障碍公告通知用户
- [ ] 支持键盘导航（适用于平板/桌面设备）
