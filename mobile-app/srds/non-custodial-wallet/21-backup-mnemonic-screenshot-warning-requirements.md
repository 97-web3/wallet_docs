# 备份助记词截图提醒页 - 软件需求规格说明书

## 1. 页面标识
- **页面名称**: 备份助记词截图提醒页
- **页面ID**: backup-mnemonic-screenshot-warning
- **页面描述/用途**: 在用户即将查看助记词之前，通过底部弹窗形式警告用户不要通过截图保存助记词，提醒用户注意安全风险

## 2. UI组件
### 2.1 布局概述
页面采用底部弹窗（Bottom Sheet）设计，背景为半透明黑色遮罩层，底部弹出白色/深色卡片显示警告信息。弹窗内容包含安全图标、标题、说明文字和操作按钮。

### 2.2 组件详情
| 组件名称 | 组件类型 | 位置 | 描述 |
|---------|---------|------|------|
| 背景遮罩 | 视图层 | 全屏 | 半透明黑色背景，显示底层页面"手动备份" |
| 底部弹窗容器 | 卡片容器 | 底部居中 | 圆角卡片，包含所有弹窗内容 |
| 安全盾牌图标 | 图标图像 | 弹窗顶部中央 | 荧光绿/黄渐变盾牌图标 |
| 安全提示标题 | 文本标签（加粗） | 图标下方 | "安全提示" |
| 警告说明文字 | 文本段落 | 标题下方 | 多行说明文字，解释截图的风险 |
| 验证备份按钮 | 主要操作按钮 | 底部上方 | 荧光绿色背景，确认已阅读警告 |

## 3. 功能需求
### 3.1 主要功能
- 以弹窗形式阻断用户继续操作
- 警告用户不要通过截图保存助记词
- 说明截图保存的安全风险
- 引导用户使用正确的备份方法
- 确认用户理解风险后才能继续

### 3.2 业务逻辑
1. **弹窗触发时机**：
   - 用户准备查看助记词时自动弹出
   - 或在助记词显示页面首次进入时弹出
   - 在用户尝试截屏时再次弹出（可选）

2. **警告内容**：
   - 标题："安全提示"
   - 说明文字："请勿通过截图保存助记词，这种方式极易被黑客窃取或泄露，存在严重的安全风险。为确保您的资产安全，已将截图中的助记词进行抹除！"

3. **用户操作流程**：
   - 用户阅读警告信息
   - 点击"验证备份"按钮
   - 弹窗关闭，显示助记词页面
   - 系统记录用户已查看警告

4. **截图保护机制**：
   - 检测用户截图行为
   - 自动模糊或移除截图中的助记词内容
   - 在截图上叠加警告水印（可选）

## 4. 用户交互
### 4.1 用户操作
| 操作 | 触发条件 | 响应 |
|-----|---------|------|
| 点击背景遮罩 | 用户点击弹窗外部区域 | 无响应或关闭弹窗（根据设计决定） |
| 点击验证备份按钮 | 用户点击"验证备份"按钮 | 关闭弹窗，显示完整的助记词页面 |
| 向下滑动弹窗 | 用户下拉弹窗 | 可选：关闭弹窗或无响应 |

### 4.2 导航流程
```
助记词备份页 → 触发截图警告 → 显示弹窗
截图警告弹窗 → 点击验证备份 → 关闭弹窗 → 显示完整助记词
截图警告弹窗 → 点击背景（可选） → 返回上一页
```

### 4.3 手势操作
- 支持向下滑动关闭弹窗（可选功能）
- 支持点击背景关闭（根据业务需求决定是否启用）
- 不支持其他手势操作，确保用户阅读警告

## 5. 数据需求
### 5.1 数据展示
| 数据字段 | 数据类型 | 描述 |
|---------|---------|------|
| 标题文字 | 字符串 | "安全提示" |
| 警告说明 | 字符串 | "请勿通过截图保存助记词，这种方式极易被黑客窃取或泄露，存在严重的安全风险。为确保您的资产安全，已将截图中的助记词进行抹除！" |
| 按钮文字 | 字符串 | "验证备份" |
| 背景页面标题 | 字符串 | "手动备份"（底层页面） |

### 5.2 数据输入
本页面无用户输入数据

### 5.3 数据来源
- 弹窗文案：从应用本地化资源文件获取
- 图标资源：从应用资源文件加载
- 用户查看状态：保存到本地存储

## 6. 验证规则
### 6.1 输入验证
本页面无输入验证需求

### 6.2 错误处理
| 错误场景 | 错误信息 | 处理方式 |
|---------|---------|---------|
| 弹窗显示失败 | 无 | 直接进入助记词页面，记录日志 |
| 关闭弹窗失败 | "操作失败，请重试" | 显示提示，允许用户重新点击 |
| 截图检测失败 | 无 | 静默失败，不影响用户体验 |

## 7. 技术考量
### 7.1 状态管理
需要管理的状态：
- 弹窗显示/隐藏状态
- 用户是否已查看此警告（本地存储）
- 用户是否尝试截图（可选）
- 弹窗动画状态

### 7.2 API集成
- **本地存储**：记录用户已查看截图警告
- **截图检测**：监听系统截图事件（iOS/Android）
- **截图保护**：设置页面FLAG_SECURE标志位
- **分析统计**：记录弹窗展示和用户操作行为

### 7.3 安全考量
1. **截图保护机制**：
   - iOS：监听UIApplicationUserDidTakeScreenshotNotification
   - Android：设置FLAG_SECURE标志防止截图
   - 或使用ContentObserver监听截图事件
   - 检测到截图后立即隐藏敏感内容

2. **内容保护**：
   - 在截图中自动模糊助记词
   - 或在助记词区域显示警告文字
   - 考虑在整个助记词页面设置防截图保护

3. **用户教育**：
   - 明确说明截图的风险
   - 提供替代的安全备份方法
   - 强调已采取的保护措施

4. **强制阅读**：
   - 考虑添加倒计时，确保用户有时间阅读
   - 或要求用户滚动到底部才能点击按钮
   - 防止用户快速跳过警告

5. **多次提醒**：
   - 首次查看助记词时显示
   - 检测到截图行为时再次显示
   - 在后续敏感操作前重复提醒

## 8. 验收标准
- [ ] 弹窗在正确的时机自动显示
- [ ] 弹窗布局符合设计稿，采用底部弹出样式
- [ ] 背景遮罩半透明效果正确显示
- [ ] 安全盾牌图标正确显示渐变色效果
- [ ] 标题"安全提示"醒目显示
- [ ] 警告说明文字完整、清晰、易读
- [ ] "验证备份"按钮样式正确（荧光绿色）
- [ ] 点击验证备份按钮后弹窗正确关闭
- [ ] 弹窗关闭后正确显示助记词页面
- [ ] 弹窗显示和关闭动画流畅自然
- [ ] 截图保护功能正常工作（如已实现）
- [ ] 检测到截图时正确处理（隐藏或模糊敏感内容）
- [ ] 点击背景的行为符合设计要求
- [ ] 用户查看状态正确保存到本地
- [ ] 下次进入时根据状态决定是否显示弹窗
- [ ] 页面在不同屏幕尺寸下显示正常
- [ ] 支持深色和浅色主题（如适用）
- [ ] 所有文字内容无拼写和语法错误
- [ ] 弹窗不会被意外关闭，确保用户看到警告
- [ ] 所有交互操作响应迅速
