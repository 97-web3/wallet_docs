# 编辑个人简介 - 软件需求规格说明书

## 1. 页面标识

| 属性 | 值 |
|------|-----|
| 页面ID | DW-034 |
| 页面名称 | 编辑个人简介 |
| 版本 | 1.0 |
| 更新日期 | 2025-12-08 |
| 状态 | 草稿 |

### 功能描述
编辑个人简介页面允许用户添加或修改个人简介信息。页面提供一个多行文本输入框，用户可以输入简短的个人描述，用于在钱包个人资料中展示。

---

## 2. UI组件

### 2.1 布局概述
页面采用简洁的表单布局，深色背景主题。顶部显示导航栏，中间是多行文本输入区域，底部有保存按钮。页面激活时自动弹出系统键盘。

### 2.2 组件详情

| 组件 | 类型 | 描述 | 位置 |
|------|------|------|------|
| 返回按钮 | 图标按钮 | 左箭头图标，返回上一页 | 顶部左侧 |
| 页面标题 | 标签 | "编辑个人简介" | 顶部居中 |
| 文本输入框 | 多行文本框 | 绿色边框，深灰色背景，带占位提示文字 | 标题下方 |
| 占位提示 | 占位文本 | "在您的个人资料中添加简短的个人简介" | 输入框内 |
| 保存按钮 | 主按钮 | 绿色圆角按钮，显示"保存" | 输入框下方 |
| 系统键盘 | 键盘 | iOS标准QWERTY键盘 | 屏幕底部 |
| 完成按钮 | 键盘按钮 | 蓝色"完成"按钮 | 键盘右下角 |

---

## 3. 功能需求

### FR-034-01: 显示当前简介

| 字段 | 内容 |
|------|------|
| **ID** | FR-034-01 |
| **描述** | 页面加载时应显示用户当前的个人简介内容 |
| **验收标准** | 1. **假设** 用户已有个人简介，**当** 打开编辑页面，**则** 输入框显示当前简介内容<br>2. **假设** 用户没有设置过简介，**当** 打开编辑页面，**则** 显示占位提示文字 |
| **优先级** | 必须 |

### FR-034-02: 编辑个人简介

| 字段 | 内容 |
|------|------|
| **ID** | FR-034-02 |
| **描述** | 用户可以在文本框中输入或修改个人简介 |
| **验收标准** | 1. **假设** 用户在输入框中，**当** 输入文字，**则** 文字实时显示在输入框中<br>2. **假设** 输入框有内容，**当** 用户编辑，**则** 可以自由修改文本内容 |
| **优先级** | 必须 |

### FR-034-03: 保存个人简介

| 字段 | 内容 |
|------|------|
| **ID** | FR-034-03 |
| **描述** | 用户点击保存按钮后，系统保存更新后的个人简介 |
| **验收标准** | 1. **假设** 用户修改了简介内容，**当** 点击保存按钮，**则** 系统保存新的简介并返回上一页<br>2. **假设** 保存成功，**当** 返回个人资料页面，**则** 显示更新后的简介 |
| **优先级** | 必须 |

### FR-034-04: 键盘交互

| 字段 | 内容 |
|------|------|
| **ID** | FR-034-04 |
| **描述** | 页面应正确处理键盘的弹出和收起 |
| **验收标准** | 1. **假设** 用户进入页面，**当** 页面加载完成，**则** 自动弹出键盘并聚焦输入框<br>2. **假设** 用户点击键盘上的完成按钮，**当** 按钮被点击，**则** 收起键盘 |
| **优先级** | 必须 |

### FR-034-05: 取消编辑

| 字段 | 内容 |
|------|------|
| **ID** | FR-034-05 |
| **描述** | 用户可以通过返回按钮取消编辑操作 |
| **验收标准** | 1. **假设** 用户正在编辑简介，**当** 点击返回按钮，**则** 提示用户是否放弃更改<br>2. **假设** 用户确认放弃，**当** 返回上一页，**则** 不保存任何修改 |
| **优先级** | 应该 |

---

## 4. 用户交互

### 4.1 用户工作流
1. 用户从管理资料页面进入编辑个人简介
2. 页面加载并显示当前简介（如有）
3. 键盘自动弹出，光标定位到输入框
4. 用户输入或修改简介内容
5. 用户点击"保存"按钮保存更改
6. 系统保存数据并返回上一页面

### 4.2 导航流程
- **来源页面**: 管理资料页面
- **目标页面**:
  - 保存成功: 返回管理资料页面
  - 取消: 返回管理资料页面

### 4.3 手势与交互
| 手势 | 行为 |
|------|------|
| 点击返回按钮 | 取消编辑，返回上一页 |
| 点击输入框 | 激活输入，弹出键盘 |
| 点击保存按钮 | 保存简介，返回上一页 |
| 点击键盘完成 | 收起键盘 |
| 点击空白区域 | 收起键盘（可选） |

---

## 5. 数据需求

### 5.1 显示数据
| 数据字段 | 类型 | 来源 | 格式 |
|----------|------|------|------|
| 当前简介 | String | 用户数据 | 纯文本，可为空 |
| 占位提示 | String | 系统配置 | 本地化文本 |

### 5.2 输入数据
| 输入字段 | 类型 | 验证规则 | 必填 |
|----------|------|----------|------|
| 个人简介 | String | 最大长度限制（如200字符） | 否 |

---

## 6. 验证规则

### 6.1 输入验证
- 简介内容可以为空
- 最大字符数限制（建议200字符）
- 过滤特殊字符和HTML标签

### 6.2 错误处理
| 错误场景 | 处理方式 |
|----------|----------|
| 超出字符限制 | 显示剩余可输入字符数，阻止继续输入 |
| 保存失败 | 显示错误提示，保留用户输入 |
| 网络错误 | 显示重试选项 |

---

## 7. 技术考虑

### 7.1 数据存储
- 个人简介存储在本地用户配置中
- 如支持链上身份，同步到区块链（可选）

### 7.2 状态管理
- 保存输入框的临时状态，防止意外丢失
- 保存成功后更新全局用户状态

### 7.3 键盘适配
- 页面布局需适应键盘弹出时的高度变化
- 确保保存按钮在键盘弹出时仍可见

### 7.4 性能优化
- 输入防抖处理，避免频繁触发状态更新
- 保存操作显示加载状态

---

## 8. 验收标准汇总

- [ ] 页面标题正确显示"编辑个人简介"
- [ ] 返回按钮正常工作
- [ ] 输入框显示当前简介内容（如有）
- [ ] 无简介时显示占位提示文字
- [ ] 进入页面自动弹出键盘
- [ ] 可以正常输入和编辑文本
- [ ] 支持多行文本输入
- [ ] 点击保存按钮保存简介
- [ ] 保存成功后返回上一页
- [ ] 个人资料页面显示更新后的简介
- [ ] 字符数限制正常工作
- [ ] 取消编辑时提示确认（有更改时）
