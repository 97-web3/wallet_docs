# 管理资料 - 软件需求规格说明书

## 1. 页面标识

| 属性 | 值 |
|------|-----|
| 页面ID | DW-033 |
| 页面名称 | 管理资料 |
| 版本 | 1.0 |
| 更新日期 | 2025-12-08 |
| 状态 | 草稿 |

### 功能描述
管理资料页面是账户个人信息管理的中心页面，允许用户查看和编辑账户名称、查看账户地址、管理通知设置、查看恢复短语和私钥，以及移除账户。页面提供了账户安全和个人化设置的入口。

---

## 2. UI组件

### 2.1 布局概述
页面采用垂直列表布局，深色背景主题。顶部显示导航栏和账户头像，中间区域按功能分组展示设置项，使用卡片式分组设计。敏感操作（移除账户）使用红色警示文字。

### 2.2 组件详情

| 组件 | 类型 | 描述 | 位置 |
|------|------|------|------|
| 返回按钮 | 图标按钮 | 左箭头图标，返回上一页 | 顶部左侧 |
| 页面标题 | 标签 | "管理资料" | 顶部居中 |
| 账户头像 | 图片 | 绿色狐狸头像图标 | 标题下方居中 |
| 账户名称项 | 列表项 | 显示"账户名称"和当前值"@DapperTowel984"，带箭头 | 第一分组 |
| 账户地址项 | 列表项 | 显示"账户地址"，带箭头 | 第一分组 |
| 通知项 | 列表项 | 显示"通知"，带箭头 | 第二分组 |
| 显示恢复短语项 | 列表项 | 显示"显示恢复短语"，带箭头 | 第三分组 |
| 显示私钥项 | 列表项 | 显示"显示私钥"，带箭头 | 第三分组 |
| 移除账户项 | 列表项 | 红色文字显示"移除账户" | 第四分组 |

---

## 3. 功能需求

### FR-033-01: 显示账户信息

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-01 |
| **描述** | 系统应显示当前账户的基本信息，包括头像和账户名称 |
| **验收标准** | 1. **假设** 用户打开管理资料页面，**当** 页面加载完成，**则** 显示账户头像和当前账户名称<br>2. **假设** 账户名称已设置，**当** 查看账户名称项，**则** 显示完整的用户名（如@DapperTowel984） |
| **优先级** | 必须 |

### FR-033-02: 编辑账户名称

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-02 |
| **描述** | 用户可以点击账户名称项进入编辑页面修改账户名称 |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击账户名称项，**则** 跳转到编辑用户名页面<br>2. **假设** 用户修改并保存用户名，**当** 返回管理资料页面，**则** 显示更新后的用户名 |
| **优先级** | 必须 |

### FR-033-03: 查看账户地址

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-03 |
| **描述** | 用户可以查看当前账户的区块链地址 |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击账户地址项，**则** 跳转到账户地址详情页面<br>2. **假设** 在地址详情页面，**当** 用户查看，**则** 可以复制或分享地址 |
| **优先级** | 必须 |

### FR-033-04: 管理通知设置

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-04 |
| **描述** | 用户可以进入通知设置页面管理推送通知偏好 |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击通知项，**则** 跳转到通知设置页面<br>2. **假设** 在通知设置页面，**当** 用户修改设置，**则** 系统保存用户的通知偏好 |
| **优先级** | 应该 |

### FR-033-05: 显示恢复短语

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-05 |
| **描述** | 用户可以查看账户的恢复短语（助记词） |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击显示恢复短语项，**则** 先进行身份验证<br>2. **假设** 身份验证通过，**当** 进入恢复短语页面，**则** 显示12/24个助记词 |
| **优先级** | 必须 |

### FR-033-06: 显示私钥

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-06 |
| **描述** | 用户可以查看账户的私钥 |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击显示私钥项，**则** 先进行身份验证<br>2. **假设** 身份验证通过，**当** 进入私钥页面，**则** 显示账户私钥并提供复制功能 |
| **优先级** | 必须 |

### FR-033-07: 移除账户

| 字段 | 内容 |
|------|------|
| **ID** | FR-033-07 |
| **描述** | 用户可以从钱包中移除当前账户 |
| **验收标准** | 1. **假设** 用户在管理资料页面，**当** 点击移除账户项，**则** 跳转到移除确认页面<br>2. **假设** 用户确认移除，**当** 操作完成，**则** 账户从钱包中删除 |
| **优先级** | 必须 |

---

## 4. 用户交互

### 4.1 用户工作流
1. 用户从设置页面进入管理资料
2. 查看当前账户信息（头像、名称）
3. 根据需要点击相应设置项：
   - 编辑账户名称
   - 查看账户地址
   - 管理通知
   - 查看恢复短语
   - 查看私钥
   - 移除账户
4. 完成操作后返回管理资料页面

### 4.2 导航流程
- **来源页面**: 设置主页面
- **目标页面**:
  - 账户名称 → 编辑用户名页面
  - 账户地址 → 地址详情页面
  - 通知 → 通知设置页面
  - 显示恢复短语 → 恢复短语页面
  - 显示私钥 → 私钥页面
  - 移除账户 → 移除确认页面

### 4.3 手势与交互
| 手势 | 行为 |
|------|------|
| 点击返回按钮 | 返回设置页面 |
| 点击列表项 | 进入对应功能页面 |
| 左滑返回 | 返回上一页面（iOS手势） |

---

## 5. 数据需求

### 5.1 显示数据
| 数据字段 | 类型 | 来源 | 格式 |
|----------|------|------|------|
| 账户头像 | Image | 系统生成/用户上传 | PNG/SVG |
| 账户名称 | String | 用户设置 | @用户名格式 |
| 账户地址 | String | 区块链派生 | 0x...格式 |

### 5.2 输入数据
| 输入字段 | 类型 | 验证规则 | 必填 |
|----------|------|----------|------|
| 无直接输入 | - | - | - |

---

## 6. 验证规则

### 6.1 安全验证
- 查看恢复短语需要身份验证
- 查看私钥需要身份验证
- 移除账户需要身份验证

### 6.2 权限控制
- 敏感信息查看需要生物识别或密码验证
- 移除操作需要二次确认

---

## 7. 技术考虑

### 7.1 安全存储
- 恢复短语和私钥存储在安全存储区（Keychain/Keystore）
- 显示敏感信息时启用截屏保护

### 7.2 状态管理
- 从全局状态获取当前账户信息
- 账户信息变更后实时更新页面显示

### 7.3 导航架构
- 使用导航栈管理页面跳转
- 支持深度链接到特定设置项

### 7.4 隐私保护
- 敏感操作入口使用中性描述
- 不在页面上直接显示敏感数据

---

## 8. 验收标准汇总

- [ ] 正确显示账户头像
- [ ] 正确显示账户名称
- [ ] 所有列表项可点击并跳转到对应页面
- [ ] 移除账户项使用红色警示文字
- [ ] 点击显示恢复短语触发身份验证
- [ ] 点击显示私钥触发身份验证
- [ ] 返回按钮正常工作
- [ ] 页面标题正确显示"管理资料"
- [ ] 设置项按功能正确分组
- [ ] 各功能页面正常跳转和返回
